(this["webpackJsonpensdao-multi-register"]=this["webpackJsonpensdao-multi-register"]||[]).push([[0],{104:function(e,t,f){},106:function(e,t){},114:function(e,t){},124:function(e,t,f){"use strict";f.r(t);var n=f(5),c=f.n(n),r=f(61),a=f.n(r),s=f(25),i=(f(104),f(27)),o=f(59),b=f(37),u=f(9);var d=function(){var e=Object(i.b)().account;return Object(u.jsx)("div",{className:"py-4 mb-4 bg-gray-100 border-b",children:Object(u.jsxs)("div",{className:"container flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[Object(u.jsx)("div",{className:"text-4xl mr-2 mb-4 sm:mb-0",children:"ENSDAO Multi Register"}),Object(u.jsxs)("div",{className:"sm:text-right",children:[!e&&Object(u.jsx)(b.a,{onClick:o.a,disabled:!1,children:"Connect wallet"}),e&&Object(u.jsxs)("div",{children:["Connected with ",Object(u.jsxs)("a",{className:"mr-1",href:"https://app.ens.domains/address/".concat(e),target:"_blank",rel:"noreferrer",children:[e.substring(0,6),"...",e.slice(-4)]})]})]})]})})},l=f(11),j=f(17),O=f(47),m=f(28),h=f(92),p=f(77),v=f(41);function x(e){var t=e.name,f=e.duration,c=e.addToTotalCost,r=Object(v.b)().contracts.registrar,a=Object(n.useState)("".concat(t,".eth")),s=Object(l.a)(a,1)[0],i=Object(n.useState)(),o=Object(l.a)(i,2),b=o[0],d=o[1];return Object(n.useEffect)((function(){r?r.rentPrice(t,f).then((function(e){return d(e.add(e.mul(10).div(100)))})).catch(console.error):d(void 0)}),[t,r,f]),Object(n.useEffect)((function(){b&&c(t,b)}),[c,t,b]),Object(u.jsxs)("li",{children:[s," ",b&&Object(u.jsxs)("span",{className:"text-sm",children:["(",m.a.utils.formatEther(b),"\u039e)"]})]})}function y(e){var t=e.name,f=Object(i.b)().provider,c=Object(n.useState)("".concat(t,".eth")),r=Object(l.a)(c,1)[0],a=Object(n.useState)(""),s=Object(l.a)(a,2),o=s[0],b=s[1],d=Object(n.useState)(""),j=Object(l.a)(d,2),O=j[0],m=j[1];return Object(n.useEffect)((function(){f?f.resolveName(r).then(b).catch(console.error):b("")}),[t,f,r]),Object(n.useEffect)((function(){f&&o?f.lookupAddress(o).then(m).catch(console.error):m("")}),[f,o]),Object(u.jsxs)("li",{children:[Object(u.jsx)("a",{className:"mr-1",href:"https://app.ens.domains/name/".concat(r),target:"_blank",rel:"noreferrer",children:r}),o&&Object(u.jsxs)("span",{className:"text-sm",children:["(resolves to ",Object(u.jsx)("a",{href:"https://app.ens.domains/address/".concat(o),target:"_blank",rel:"noreferrer",children:o}),O&&Object(u.jsxs)("span",{className:"ml-1",children:["(",Object(u.jsx)("a",{href:"https://app.ens.domains/name/".concat(O),target:"_blank",rel:"noreferrer",children:O}),")"]}),")"]})]})}function g(e){var t=e.emoji,f=e.reason,n=e.result,c=e.children;return Object(u.jsxs)("div",{className:"mb-4",children:[Object(u.jsxs)("div",{className:"text-2xl mb-2",children:[t," These names are ",Object(u.jsx)("span",{className:"font-bold",children:f})," and will be ",Object(u.jsx)("span",{className:"uppercase font-bold",children:n})]}),Object(u.jsx)("ol",{className:"list-decimal list-inside",children:c})]})}var w=function(e){var t=e.setNames,f=e.duration,c=e.setDuration,r=e.totalCost,a=e.setTotalCost,s=e.reset,i=Object(v.b)().contracts.registrar,o=Object(n.useState)(100),d=Object(l.a)(o,1)[0],w=Object(n.useState)(1),N=Object(l.a)(w,2),k=N[0],C=N[1],S=Object(n.useState)([]),E=Object(l.a)(S,2),T=E[0],I=E[1],P=Object(n.useState)(0),A=Object(l.a)(P,2),R=A[0],_=A[1],D=Object(n.useState)([]),M=Object(l.a)(D,2),H=M[0],B=M[1],W=Object(n.useState)([]),F=Object(l.a)(W,2),J=F[0],G=F[1],L=Object(n.useState)([]),z=Object(l.a)(L,2),K=z[0],V=z[1],q=Object(n.useState)([]),Q=Object(l.a)(q,2),U=Q[0],X=Q[1],Y=Object(n.useState)(!1),Z=Object(l.a)(Y,2),$=Z[0],ee=Z[1],te=Object(n.useState)(!0),fe=Object(l.a)(te,2),ne=fe[0],ce=fe[1],re=Object(n.useState)([]),ae=Object(l.a)(re,2),se=ae[0],ie=ae[1];Object(n.useEffect)((function(){var e=T.filter((function(e){return e.trim().length>0}));_(e.length)}),[T]),Object(n.useEffect)((function(){ce(0===R||$||R>d)}),[d,R,$]),Object(n.useEffect)((function(){t(H)}),[H,t]),Object(n.useEffect)((function(){c(31536e3*k)}),[k,c]),Object(n.useEffect)((function(){if(!$||!i)return B([]),G([]),X([]),V([]),void ie([]);var e=Object(O.a)(new Set(T)).filter((function(e){return e.trim().length>0})),t=e.filter((function(e){return e.length<3}));G(t);var f=e.filter((function(e){return e.length>=3})),n=f.filter((function(e){return!Object(p.a)(e)||e.indexOf(".")>-1})),c=f.filter((function(e){return Object(p.a)(e)&&-1===e.indexOf(".")})),r=[];c.forEach((function(e){try{var t=Object(h.normalize)(e);r.push(t)}catch(f){n.push(e)}})),X(n),Promise.all(r.map((function(e){return Promise.all([e,i.available(e)])}))).then((function(e){V(e.filter((function(e){return!Object(l.a)(e,2)[1]})).map((function(e){return Object(l.a)(e,1)[0]}))),B(e.filter((function(e){return Object(l.a)(e,2)[1]})).map((function(e){return Object(l.a)(e,1)[0]})))})).catch(console.error)}),[T,i,a,$]),Object(n.useEffect)((function(){a(se.reduce((function(e,t){return e.add(t.price)}),j.a.from(0)))}),[a,se]),Object(n.useEffect)((function(){s&&ee(!1)}),[s]);var oe=Object(n.useCallback)((function(e,t){ie((function(f){var n=Object(O.a)(f),c=n.findIndex((function(t){return t.name===e}));return-1===c?n.push({name:e,price:t}):n[c].price=t,n}))}),[]);return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"mb-4",children:[Object(u.jsx)("div",{className:"text-2xl mb-2",children:"Register Multiple Names"}),Object(u.jsxs)("div",{className:"flex justify-between",children:[Object(u.jsxs)("div",{className:"text-sm",children:["One new ENS name per line, don't include ",Object(u.jsx)("span",{className:"font-mono",children:".eth"})]}),Object(u.jsxs)("div",{className:"text-sm",children:[R,"/",d]})]}),Object(u.jsx)("textarea",{className:"w-full border p-2",rows:10,value:T.join("\n"),disabled:$,onChange:function(e){return I(e.target.value.split("\n").map((function(e){return e.trim()})))}}),Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)(b.a,{disabled:ne,onClick:function(){return ee(!0)},children:"Validate names"}),Object(u.jsx)("div",{className:"mx-1"}),Object(u.jsx)(b.a,{disabled:!$,onClick:function(){return ee(!1)},children:"Edit names"})]})]}),J.length>0&&Object(u.jsx)(g,{emoji:"\ud83d\udc4e",reason:"too short",result:"skipped",children:J.map((function(e,t){return Object(u.jsx)("li",{children:e},t)}))}),K.length>0&&Object(u.jsx)(g,{emoji:"\ud83d\udc4e",reason:"already taken",result:"skipped",children:K.map((function(e,t){return Object(u.jsx)(y,{name:e},t)}))}),U.length>0&&Object(u.jsx)(g,{emoji:"\ud83d\udc4e",reason:"malformed",result:"skipped",children:U.map((function(e,t){return Object(u.jsx)("li",{children:e},t)}))}),H.length>0&&Object(u.jsxs)(g,{emoji:"\ud83d\udc4d",reason:"looking good",result:"registered",children:[H.map((function(e,t){return Object(u.jsx)(x,{name:e,duration:f,addToTotalCost:oe},t)})),Object(u.jsxs)("div",{className:"my-2 flex items-center",children:[Object(u.jsx)("div",{children:Object(u.jsx)(b.a,{disabled:1===k,onClick:function(){return C((function(e){return e-1}))},children:"-"})}),Object(u.jsxs)("div",{className:"mx-2",children:[k," ",k>1?"years":"year"]}),Object(u.jsx)("div",{children:Object(u.jsx)(b.a,{disabled:!1,onClick:function(){return C((function(e){return e+1}))},children:"+"})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"text-xl font-bold",children:"Total cost"}),Object(u.jsxs)("div",{children:[m.a.utils.formatEther(r),"\u039e"]})]})]})]})},N=f(93),k=f(66);var C=function(e){var t=e.waited,f=e.names,c=e.secrets,r=e.duration,a=e.totalCost,s=e.setReset,o=Object(v.b)().contracts.multiRegister,d=Object(i.b)().account,j=Object(k.a)(),O=j.contractCall,m=j.pending,h=Object(n.useState)(!0),p=Object(l.a)(h,2),x=p[0],y=p[1];return Object(n.useEffect)((function(){y(m||!t)}),[t,m]),Object(u.jsx)("div",{className:"mt-4",children:c.length===f.length&&Object(u.jsx)(b.a,{disabled:x,onClick:function(){d&&o&&O((function(){return o.multiRegister(d,r,f,c,{value:a})}),"Registering names","Registering names failed","Registering names succeeded",void 0,(function(){return s(!0)}))},children:"Register names"})})};var S=function(){var e=Object(i.b)().account,t=Object(n.useState)([]),f=Object(l.a)(t,2),c=f[0],r=f[1],a=Object(n.useState)([]),s=Object(l.a)(a,2),o=s[0],b=s[1],d=Object(n.useState)(0),O=Object(l.a)(d,2),m=O[0],h=O[1],p=Object(n.useState)(j.a.from(0)),v=Object(l.a)(p,2),x=v[0],y=v[1],g=Object(n.useState)(!1),k=Object(l.a)(g,2),S=k[0],E=k[1],T=Object(n.useState)(!1),I=Object(l.a)(T,2),P=I[0],A=I[1],R=Object(n.useState)(!1),_=Object(l.a)(R,2),D=_[0],M=_[1],H=Object(n.useState)(!1),B=Object(l.a)(H,2),W=B[0],F=B[1],J=Object(n.useState)(!1),G=Object(l.a)(J,2),L=G[0],z=G[1];return Object(n.useEffect)((function(){L&&z(!1)}),[L]),Object(n.useEffect)((function(){E(!!e&&c.length>0)}),[e,c.length]),Object(n.useEffect)((function(){A(D)}),[D]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(w,{setNames:r,duration:m,setDuration:h,totalCost:x,setTotalCost:y,reset:L}),S&&Object(u.jsxs)("div",{children:[Object(u.jsx)(N.a,{committed:D,setCommitted:M,setWaited:F,names:c,setSecrets:b,reset:L}),P&&Object(u.jsx)(C,{waited:W,names:c,secrets:o,duration:m,totalCost:x,setReset:z})]})]})},E=f(94);var T=function(){var e=Object(i.b)();return Object(u.jsx)("div",{className:"py-2 mt-4 border-t bg-gray-100 text-sm",children:Object(u.jsxs)("div",{className:"container flex flex-col sm:flex-row sm:justify-between sm:items-center items-end",children:[Object(u.jsxs)("div",{className:"font-mono",children:["v",E.version,"+".concat("9664f8f")]}),Object(u.jsxs)("div",{children:[e.networkName&&"".concat(e.networkName," via "),e.providerName]})]})})};var I=function(){return Object(u.jsxs)("div",{className:"flex flex-col justify-between min-h-screen",children:[Object(u.jsxs)("div",{className:"flex-grow flex flex-col",children:[Object(u.jsx)(d,{}),Object(u.jsx)(S,{})]}),Object(u.jsx)(T,{})]})},P=function(e){e&&e instanceof Function&&f.e(3).then(f.bind(null,131)).then((function(t){var f=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;f(e),n(e),c(e),r(e),a(e)}))};a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(i.a,{children:Object(u.jsxs)(v.a,{children:[Object(u.jsx)(s.a,{position:"bottom-right",closeButton:!1,newestOnTop:!1}),Object(u.jsx)(I,{})]})})}),document.getElementById("root")),P()},27:function(e,t,f){"use strict";f.d(t,"a",(function(){return i})),f.d(t,"b",(function(){return o}));var n,c=f(5),r=f(59),a=f(9),s=Object(c.createContext)(r.b),i=(n=s,function(e){var t=e.children,f=Object(r.c)();return Object(a.jsx)(n.Provider,{value:f,children:t})}),o=function(){return Object(c.useContext)(s)}},37:function(e,t,f){"use strict";var n=f(9);t.a=function(e){var t=e.disabled,f=e.onClick,c=e.children;return Object(n.jsx)("button",{className:"px-4 py-2 border rounded ".concat(t?"text-gray-400 cursor-default":""),disabled:t,onClick:f,children:c})}},41:function(e,t,f){"use strict";f.d(t,"a",(function(){return N})),f.d(t,"b",(function(){return k}));var n=f(5),c=f(11),r=f(27),a=f(42),s=f(4),i=f(6),o=f(44),b=f(48),u=[{inputs:[{internalType:"string",name:"name",type:"string"}],name:"available",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"commitment",type:"bytes32"}],name:"commit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"bytes32",name:"secret",type:"bytes32"}],name:"register",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"rentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],d=function(){function e(){Object(s.a)(this,e)}return Object(i.a)(e,null,[{key:"createInterface",value:function(){return new o.utils.Interface(u)}},{key:"connect",value:function(e,t){return new b.b(e,u,t)}}]),e}();d.abi=u;var l=f(21),j=f(19),O=f(8),m=f(7),h=[{inputs:[{internalType:"address",name:"registrar_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"getRegistrar",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32[]",name:"commitments",type:"bytes32[]"}],name:"multiCommit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"string[]",name:"names",type:"string[]"},{internalType:"bytes32[]",name:"secrets",type:"bytes32[]"}],name:"multiRegister",outputs:[],stateMutability:"payable",type:"function"}],p="0x608060405234801561001057600080fd5b50604051610b50380380610b50833981810160405281019061003291906100db565b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610108565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006100a88261007d565b9050919050565b6100b88161009d565b81146100c357600080fd5b50565b6000815190506100d5816100af565b92915050565b6000602082840312156100f1576100f0610078565b5b60006100ff848285016100c6565b91505092915050565b610a39806101176000396000f3fe6080604052600436106100345760003560e01c80634d3f7334146100395780636e61accc14610064578063d16050e614610080575b600080fd5b34801561004557600080fd5b5061004e6100a9565b60405161005b91906104d4565b60405180910390f35b61007e60048036038101906100799190610616565b6100d2565b005b34801561008c57600080fd5b506100a760048036038101906100a291906106bd565b6103cb565b005b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b600084849050905082829050811461011f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161011690610767565b60405180910390fd5b60005b818110156103ac5760008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663aeb8ce9b87878481811061017957610178610787565b5b905060200281019061018b91906107c5565b6040518363ffffffff1660e01b81526004016101a8929190610875565b60206040518083038186803b1580156101c057600080fd5b505afa1580156101d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101f891906108d1565b610201576103a7565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166385f6d15560008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166383e7f6ff89898681811061028c5761028b610787565b5b905060200281019061029e91906107c5565b8c6040518463ffffffff1660e01b81526004016102bd9392919061090d565b60206040518083038186803b1580156102d557600080fd5b505afa1580156102e9573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061030d9190610954565b8888858181106103205761031f610787565b5b905060200281019061033291906107c5565b8c8c8a8a8981811061034757610346610787565b5b905060200201356040518763ffffffff1660e01b815260040161036e95949392919061099a565b6000604051808303818588803b15801561038757600080fd5b505af115801561039b573d6000803e3d6000fd5b50505050508060010190505b610122565b5060004711156103c25760008060008047335af1505b50505050505050565b600082829050905060005b8181101561048d5760008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663f14fcbc885858481811061042d5761042c610787565b5b905060200201356040518263ffffffff1660e01b815260040161045091906109e8565b600060405180830381600087803b15801561046a57600080fd5b505af115801561047e573d6000803e3d6000fd5b505050508060010190506103d6565b50505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006104be82610493565b9050919050565b6104ce816104b3565b82525050565b60006020820190506104e960008301846104c5565b92915050565b600080fd5b600080fd5b610502816104b3565b811461050d57600080fd5b50565b60008135905061051f816104f9565b92915050565b6000819050919050565b61053881610525565b811461054357600080fd5b50565b6000813590506105558161052f565b92915050565b600080fd5b600080fd5b600080fd5b60008083601f8401126105805761057f61055b565b5b8235905067ffffffffffffffff81111561059d5761059c610560565b5b6020830191508360208202830111156105b9576105b8610565565b5b9250929050565b60008083601f8401126105d6576105d561055b565b5b8235905067ffffffffffffffff8111156105f3576105f2610560565b5b60208301915083602082028301111561060f5761060e610565565b5b9250929050565b60008060008060008060808789031215610633576106326104ef565b5b600061064189828a01610510565b965050602061065289828a01610546565b955050604087013567ffffffffffffffff811115610673576106726104f4565b5b61067f89828a0161056a565b9450945050606087013567ffffffffffffffff8111156106a2576106a16104f4565b5b6106ae89828a016105c0565b92509250509295509295509295565b600080602083850312156106d4576106d36104ef565b5b600083013567ffffffffffffffff8111156106f2576106f16104f4565b5b6106fe858286016105c0565b92509250509250929050565b600082825260208201905092915050565b7f44414f4d41494e532f2f41525241595f4d49534d415443480000000000000000600082015250565b600061075160188361070a565b915061075c8261071b565b602082019050919050565b6000602082019050818103600083015261078081610744565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b600080833560016020038436030381126107e2576107e16107b6565b5b80840192508235915067ffffffffffffffff821115610804576108036107bb565b5b6020830192506001820236038313156108205761081f6107c0565b5b509250929050565b82818337600083830152505050565b6000601f19601f8301169050919050565b6000610854838561070a565b9350610861838584610828565b61086a83610837565b840190509392505050565b60006020820190508181036000830152610890818486610848565b90509392505050565b60008115159050919050565b6108ae81610899565b81146108b957600080fd5b50565b6000815190506108cb816108a5565b92915050565b6000602082840312156108e7576108e66104ef565b5b60006108f5848285016108bc565b91505092915050565b61090781610525565b82525050565b60006040820190508181036000830152610928818587610848565b905061093760208301846108fe565b949350505050565b60008151905061094e8161052f565b92915050565b60006020828403121561096a576109696104ef565b5b60006109788482850161093f565b91505092915050565b6000819050919050565b61099481610981565b82525050565b600060808201905081810360008301526109b5818789610848565b90506109c460208301866104c5565b6109d160408301856108fe565b6109de606083018461098b565b9695505050505050565b60006020820190506109fd600083018461098b565b9291505056fea264697066735822122036a8f9c7d9993d3f2423b96f1420cd42276fc0cafac3dfead179c8e19578068964736f6c63430008080033",v=function(e){Object(O.a)(f,e);var t=Object(m.a)(f);function f(e){return Object(s.a)(this,f),t.call(this,h,p,e)}return Object(i.a)(f,[{key:"deploy",value:function(e,t){return Object(l.a)(Object(j.a)(f.prototype),"deploy",this).call(this,e,t||{})}},{key:"getDeployTransaction",value:function(e,t){return Object(l.a)(Object(j.a)(f.prototype),"getDeployTransaction",this).call(this,e,t||{})}},{key:"attach",value:function(e){return Object(l.a)(Object(j.a)(f.prototype),"attach",this).call(this,e)}},{key:"connect",value:function(e){return Object(l.a)(Object(j.a)(f.prototype),"connect",this).call(this,e)}}],[{key:"createInterface",value:function(){return new o.utils.Interface(h)}},{key:"connect",value:function(e,t){return new b.b(e,h,t)}}]),f}(b.c);v.bytecode=p,v.abi=h;function x(){var e=function(){var e=Object(r.b)(),t=e.chainId,f=e.signerOrProvider,s=Object(a.b)(t).multiRegister,i=Object(n.useState)(),o=Object(c.a)(i,2),b=o[0],u=o[1];return Object(n.useEffect)((function(){u(t&&s&&f?v.connect(s,f):void 0)}),[t,s,f]),b}(),t=function(e){var t=Object(r.b)().signerOrProvider,f=Object(n.useState)(),a=Object(c.a)(f,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){e&&t?e.getRegistrar().then((function(e){return i(d.connect(e,t))})).catch(console.error):i(void 0)}),[e,t]),s}(e);return{contracts:{multiRegister:e,registrar:t}}}var y,g=f(9),w=Object(n.createContext)({}),N=(y=w,function(e){var t=e.children,f=x();return Object(g.jsx)(y.Provider,{value:f,children:t})}),k=function(){return Object(n.useContext)(w)}},42:function(e,t,f){"use strict";f.d(t,"a",(function(){return a})),f.d(t,"b",(function(){return s}));var n=f(11),c=f(47),r=f(5),a=function(){return[].concat([],Object(c.a)("5".split(",").map((function(e){return parseInt(e,10)}))))},s=function(e){var t=Object(r.useState)({}),f=Object(n.a)(t,2),c=f[0],a=f[1];return Object(r.useEffect)((function(){if(e){if(e===parseInt("31337",10))return console.error("No local addresses have been set!"),void a({});var t=JSON.parse('{"5":"0x27fdcAaE9a0317d382CB447aB9F8592e0bcE7397"}')[e];if(!t)return console.error("Address for network ".concat(e," is not set!")),void a({});a({multiRegister:t})}}),[e]),c}},59:function(e,t,f){"use strict";f.d(t,"b",(function(){return m})),f.d(t,"c",(function(){return v})),f.d(t,"a",(function(){return x}));var n,c=f(11),r=f(3),a=f.n(r),s=f(85),i=f(5),o=f(28),b=f(57),u=f(86),d=f.n(u),l=f(42),j=f(25),O=new d.a({cacheProvider:!0}),m={connected:!1,provided:!1,providerName:"not connected"},h=function(){var e=Object(s.a)(a.a.mark((function e(t){var f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="31337",!e.t0){e.next=7;break}return e.next=4,t.getNetwork();case 4:e.t1=e.sent.chainId,e.t2=parseInt("31337",10),e.t0=e.t1===e.t2;case 7:if(!e.t0){e.next=12;break}e.t3="localhost",e.next=15;break;case 12:return e.next=14,t.getNetwork();case 14:e.t3=e.sent.name;case 15:return e.t4=e.t3,e.next=18,t.getSigner().getAddress();case 18:return e.t5=e.sent,e.next=21,t.getNetwork();case 21:return e.t6=e.sent.chainId,e.t7=t,e.t8=t.getSigner(),f={connected:!0,provided:!0,providerName:"injected provider",networkName:e.t4,account:e.t5,chainId:e.t6,provider:e.t7,signerOrProvider:e.t8},n=t.provider,e.abrupt("return",f);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return new Promise((function(t,f){e.connect().then((function(e){return h(new o.a.providers.Web3Provider(e))})).then(t).catch(f)}))},v=function(){var e=Object(i.useState)(m),t=Object(c.a)(e,2),f=t[0],r=t[1],a=function(e,t){var f=Object(i.useState)(null),n=Object(c.a)(f,2),r=n[0],a=n[1];return Object(i.useEffect)((function(){return t.on("connect",(function(e){if(Object(l.a)().includes(parseInt(e.chainId))){var f=new o.a.providers.Web3Provider(e);a(f),Object(j.b)("Connected",{toastId:"connected"})}else Object(j.b)("Switch to a supported network: ".concat(Object(l.a)().join(", ")),{toastId:"switchNetwork"}),t.clearCachedProvider(),a(null)})),function(){t.off("connect")}}),[t]),Object(i.useEffect)((function(){if(e)return e.on("chainChanged",(function(f){if(Object(l.a)().includes(parseInt(f))){Object(j.b)("Network changed",{toastId:"switchNetwork"});var n=new o.a.providers.Web3Provider(e);a(n)}else Object(j.b)("Switch to a supported network: ".concat(Object(l.a)().join(", ")),{toastId:"switchNetwork"}),t.clearCachedProvider(),a(null)})),e.on("accountsChanged",(function(e){0===e.length?(Object(j.b)("Account disconnected",{toastId:"disconnected"}),t.clearCachedProvider(),a(null)):(Object(j.b)("Account changed",{toastId:"connected"}),t.connect())})),e.on("disconnect",(function(){Object(j.b)("Account disconnected",{toastId:"disconnected"}),t.clearCachedProvider(),a(null)})),function(){e.removeAllListeners()}}),[e,t]),r}(n,O);return Object(i.useEffect)((function(){a?h(a).then(r).catch(console.error):r(m)}),[a]),Object(i.useEffect)((function(){f.connected||(!O.cachedProvider||f.provider?(f.provider&&f.provider.getNetwork().then((function(e){Object(l.a)().includes(e.chainId)&&p(O).then(r).catch(console.error)})).catch(console.error),r(function(){var e=o.a.providers.getNetwork(parseInt("5",10)),t=Object(b.getDefaultProvider)(e,{});return{connected:!0,provided:!1,providerName:"readonly provider",networkName:t.network.name,account:"",chainId:t.network.chainId,provider:t,signerOrProvider:t}}())):p(O).then(r).catch(console.error))}),[f.connected,f.provider]),f},x=function(){O.connect().catch(console.error)}},66:function(e,t,f){"use strict";f.d(t,"a",(function(){return a}));var n=f(11),c=f(5),r=f(25),a=function(){var e=Object(c.useState)(!1),t=Object(n.a)(e,2),f=t[0],a=t[1];return{contractCall:Object(c.useCallback)((function(e,t,f,c,s,i,o){var b;a(!0),b=Object(r.b)(t,{autoClose:!1,closeOnClick:!1,draggable:!1,closeButton:!1}),e().then((function(e){return Promise.all([new Promise((function(e){return setTimeout((function(){return e(null)}),0)})).then((function(){return e.wait()})),b])})).then((function(e){var t=Object(n.a)(e,2),b=t[0],u=t[1];a(!1),r.b.dismiss(u),0===b.status?(r.b.error(f),s&&s()):1===b.status?(Object(r.b)(c),i&&i()):(r.b.error("Not sure what happened with that transaction"),s&&s()),o&&o()})).catch((function(e){console.error(e),a(!1),r.b.dismiss(b),4001!==e.code&&r.b.error("There was an error! Check your browser's console logs for more details."),s&&s()}))}),[]),pending:f}}},93:function(e,t,f){"use strict";(function(e){var n=f(11),c=f(5),r=f(28),a=f(41),s=f(27),i=f(66),o=f(37),b=f(9);t.a=function(t){var f=t.committed,u=t.setCommitted,d=t.setWaited,l=t.names,j=t.setSecrets,O=t.reset,m=Object(a.b)().contracts.multiRegister,h=Object(s.b)().account,p=Object(i.a)(),v=p.contractCall,x=p.pending,y=Object(c.useState)([]),g=Object(n.a)(y,2),w=g[0],N=g[1],k=Object(c.useState)(!0),C=Object(n.a)(k,2),S=C[0],E=C[1],T=Object(c.useState)(70),I=Object(n.a)(T,1)[0],P=Object(c.useState)(I),A=Object(n.a)(P,2),R=A[0],_=A[1];return Object(c.useEffect)((function(){E(x||f)}),[x,f]),Object(c.useEffect)((function(){if(!h)return j([]),void N([]);var t=l.map((function(t){return r.a.utils.keccak256(e.from(t))})),f=l.map((function(e){return r.a.utils.randomBytes(32)}));j(f);var n=l.map((function(e,n){return r.a.utils.solidityKeccak256(["bytes32","address","bytes32"],[t[n],h,f[n]])}));N(n)}),[h,l,j]),Object(c.useEffect)((function(){O&&(j([]),u(!1))}),[O,u,j]),Object(c.useEffect)((function(){if(f)var e=setInterval((function(){_((function(t){var f=t-1;return 0===f&&clearInterval(e),f}))}),1e3)}),[f]),Object(c.useEffect)((function(){0===R&&d(!0)}),[R,d]),Object(b.jsx)("div",{children:w.length===l.length&&Object(b.jsxs)("div",{children:[Object(b.jsx)(o.a,{disabled:S,onClick:function(){m&&v((function(){return m.multiCommit(w)}),"Committing to names","Committing to names failed","Committing to names succeeded",void 0,(function(){return u(!0)}))},children:"Commit to names"}),f&&Object(b.jsxs)("div",{className:"mt-4",children:[Object(b.jsx)("div",{className:"italic text-3xl mb-2",children:"Don't refresh or nagivate anywhere"}),Object(b.jsxs)("div",{children:["Wait ",Object(b.jsx)("span",{className:"font-mono",children:R})," seconds"]})]})]})})}}).call(this,f(84).Buffer)},94:function(e){e.exports=JSON.parse('{"name":"ensdao-multi-register","version":"0.1.0","scripts":{"start":"REACT_APP_GIT_HASH=`git rev-parse --short HEAD` craco start","build":"REACT_APP_GIT_HASH=`git rev-parse --short HEAD` craco build","test":"REACT_APP_GIT_HASH=`git rev-parse --short HEAD` craco test","eject":"react-scripts eject","contracts:test":"cd contracts && hardhat test","contracts:compile":"cd contracts && hardhat compile","contracts:node":"cd contracts && hardhat node","contracts:deploy":"cd contracts && hardhat run scripts/deploy.ts"},"dependencies":{"@craco/craco":"^6.3.0","@ensdomains/ens-validation":"0.0.0","@ensdomains/eth-ens-namehash":"^2.0.14","@testing-library/jest-dom":"^5.14.1","@testing-library/react":"^11.2.7","@testing-library/user-event":"^12.8.3","@types/jest":"^26.0.24","@types/node":"^12.20.27","@types/react":"^17.0.26","@types/react-dom":"^17.0.9","ethers":"^5.4.7","react":"^17.0.2","react-dom":"^17.0.2","react-scripts":"4.0.3","react-toastify":"^8.0.3","web-vitals":"^1.1.2","web3modal":"^1.9.4"},"devDependencies":{"@nomiclabs/hardhat-ethers":"^2.0.2","@nomiclabs/hardhat-waffle":"^2.0.1","@typechain/ethers-v5":"^7.1.2","@typechain/hardhat":"^2.3.0","@types/chai":"^4.2.22","@types/mocha":"^9.0.0","autoprefixer":"^9.8.7","chai":"^4.3.4","dotenv":"^10.0.0","ethereum-waffle":"^3.4.0","hardhat":"^2.6.4","postcss":"^7.0.38","tailwindcss":"npm:@tailwindcss/postcss7-compat@^2.2.16","ts-node":"^10.2.1","typechain":"^5.1.2","typescript":"^4.4.3"},"eslintConfig":{"extends":["react-app"],"overrides":[{"files":["!contracts/**/*"],"extends":["react-app/jest"]}]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"homepage":"https://ensdao.github.io/multi-register-public"}')}},[[124,1,2]]]);
//# sourceMappingURL=main.6ffae79b.chunk.js.map