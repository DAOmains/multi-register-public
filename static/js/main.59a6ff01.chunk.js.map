{"version":3,"sources":["Header.tsx","EnterNames.tsx","Register.tsx","App.tsx","reportWebVitals.ts","index.tsx","web3/index.tsx","../contracts/typechain/factories/IETHRegistrarController__factory.ts","../contracts/typechain/factories/MultiRegister__factory.ts","data/data.ts","data/contracts.ts","data/index.tsx","web3/chains.ts","Button.tsx","web3/providers.ts","web3/listeners.ts","web3/transactions.ts","Commit.tsx"],"names":["Header","account","useWeb3","className","onClick","connect","GoodName","name","duration","addToTotalCost","registrar","useData","contracts","useState","price","setPrice","useEffect","rentPrice","then","add","mul","div","catch","console","error","ethers","utils","formatEther","Validated","emoji","reason","result","children","EnterNames","setNames","setDuration","totalCost","setTotalCost","reset","maxNames","registrationYears","setRegistrationYears","newNames","setNewNames","newNamesLength","setNewNamesLength","goodNames","setGoodNames","shortNames","setShortNames","takenNames","setTakenNames","malformedNames","setMalformedNames","validateNames","setValidateNames","validateDisabled","setValidateDisabled","prices","setPrices","actualNames","filter","n","trim","length","actual","Set","short","notShort","malformed","validate","indexOf","maybeNotMalformed","maybeValid","forEach","normalized","normalize","push","e","Promise","all","map","available","availables","reduce","p","BigNumber","from","useCallback","newPrices","existingPriceIndex","findIndex","rows","value","join","disabled","onChange","target","split","Button","i","years","Register","waited","names","secrets","setReset","multiRegister","useTransaction","contractCall","pending","buttonDisabled","setButtonDisabled","undefined","App","setSecrets","showActions","setShowActions","showRegister","setShowRegister","committed","setCommitted","setWaited","Commit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","position","closeButton","newestOnTop","document","getElementById","context","web3Context","createContext","defaultWeb3","Web3Provider","web3Provider","useProvider","Provider","useContext","_abi","inputs","internalType","type","outputs","stateMutability","IETHRegistrarController__factory","Interface","address","signerOrProvider","Contract","abi","_bytecode","MultiRegister__factory","signer","registrar_","overrides","ContractFactory","bytecode","useSystemData","multiRegisterContract","chainId","useAddresses","setMultiRegisterContract","useMultiRegisterContract","registrarContract","setRegistrarContract","getRegistrar","registrarAddress","useRegistrarContract","dataContext","DataProvider","data","supportedChains","process","parseInt","addresses","setAddresses","multiRegisterAddress","JSON","parse","listenerProvider","web3Modal","Web3Modal","cacheProvider","connected","provided","providerName","makeInjectedProvider","a","getNetwork","getSigner","getAddress","customProvider","networkName","provider","getInjectedProvider","resolve","reject","userSuppliedProvider","providers","setWeb3Provider","reloadedProvider","myProvider","setMyProvider","on","includes","toast","toastId","clearCachedProvider","off","accounts","removeAllListeners","useListeners","cachedProvider","network","defaultProvider","getDefaultProvider","getFallbackProvider","setPending","contractFn","pendingMessage","failedMessage","successMessage","failedCallback","successCallback","completedCallback","autoClose","closeOnClick","draggable","txResponse","setTimeout","wait","txReceipt","dismiss","status","code","commitments","setCommitments","disableButton","setDisableButton","totalWait","countdown","setCountdown","labels","keccak256","Buffer","_","randomBytes","solidityKeccak256","interval","setInterval","newCountdown","clearInterval","multiCommit"],"mappings":"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","file":"static/js/main.59a6ff01.chunk.js","sourcesContent":["import { useWeb3 } from './web3';\nimport { connect } from './web3/providers';\n\nfunction Header() {\n  const { account } = useWeb3();\n\n  return (\n    <div className=\"py-4\">\n      <div className=\"text-4xl mb-2\">\n        ENSDAO Multi Register\n      </div>\n      <div>\n        {!account && (\n          <button onClick={connect}>\n            Connect wallet\n          </button>\n        )}\n        {account && (\n          <div>Connected with {account}</div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Header;\n","import { useState, useEffect, useCallback } from 'react';\nimport { BigNumber, ethers } from 'ethers';\nimport { normalize } from '@ensdomains/eth-ens-namehash';\nimport { validate } from '@ensdomains/ens-validation';\nimport { useData } from './data';\nimport Button from './Button';\n\nfunction GoodName({\n  name,\n  duration,\n  addToTotalCost,\n}: {\n  name: string,\n  duration: number,\n  addToTotalCost: (name: string, price: BigNumber) => void,\n}) {\n  const { contracts: { registrar } } = useData();\n  const [price, setPrice] = useState<BigNumber>();\n\n  useEffect(() => {\n    if (!registrar) {\n      return;\n    }\n\n    registrar.rentPrice(name, duration)\n      .then(rentPrice => setPrice(rentPrice.add(rentPrice.mul(10).div(100))))\n      .catch(console.error);\n  }, [name, registrar, duration]);\n\n  useEffect(() => {\n    if (!price) {\n      return;\n    }\n\n    addToTotalCost(name, price);\n  }, [addToTotalCost, name, price]);\n\n  return (\n    <li>{name} {price && `(${ethers.utils.formatEther(price)}Ξ)`}</li>\n  );\n}\n\nfunction Validated({\n  emoji,\n  reason,\n  result,\n  children,\n}: {\n  emoji: string,\n  reason: string,\n  result: string,\n  children: React.ReactNode,\n}) {\n  return (\n    <div className=\"mb-4\">\n      <div className=\"text-2xl mb-2\">\n        {emoji} These names are <span className=\"font-bold\">{reason}</span> and will be <span className=\"uppercase font-bold\">{result}</span>\n      </div>\n      <ol className=\"list-decimal list-inside\">\n        {children}\n      </ol>\n    </div>\n  );\n}\n\nfunction EnterNames({\n  setNames,\n  duration,\n  setDuration,\n  totalCost,\n  setTotalCost,\n  reset,\n}: {\n  setNames: React.Dispatch<React.SetStateAction<string[]>>,\n  duration: number,\n  setDuration: React.Dispatch<React.SetStateAction<number>>,\n  totalCost: BigNumber,\n  setTotalCost: React.Dispatch<React.SetStateAction<BigNumber>>,\n  reset: boolean,\n}) {\n  const { contracts: { registrar } } = useData();\n\n  const [maxNames] = useState(100);\n  const [registrationYears, setRegistrationYears] = useState(1);\n  const [newNames, setNewNames] = useState<string[]>([]);\n  const [newNamesLength, setNewNamesLength] = useState(0);\n  const [goodNames, setGoodNames] = useState<string[]>([]);\n  const [shortNames, setShortNames] = useState<string[]>([]);\n  const [takenNames, setTakenNames] = useState<string[]>([]);\n  const [malformedNames, setMalformedNames] = useState<string[]>([]);\n  const [validateNames, setValidateNames] = useState(false);\n  const [validateDisabled, setValidateDisabled] = useState(true);\n  const [prices, setPrices] = useState<{ name: string, price: BigNumber }[]>([]);\n\n  useEffect(() => {\n    const actualNames = newNames.filter(n => n.trim().length > 0);\n    setNewNamesLength(actualNames.length)\n  }, [newNames]);\n\n  useEffect(() => {\n    setValidateDisabled(newNamesLength === 0 || validateNames || newNamesLength > maxNames);\n  }, [maxNames, newNamesLength, validateNames]);\n\n  useEffect(() => {\n    setNames(goodNames);\n  }, [goodNames, setNames]);\n\n  useEffect(() => {\n    setDuration(60 * 60 * 24 * 365 * registrationYears);\n  }, [registrationYears, setDuration]);\n\n  useEffect(() => {\n    if (!validateNames || !registrar) {\n      setGoodNames([]);\n      setShortNames([]);\n      setMalformedNames([]);\n      setTakenNames([]);\n      setPrices([]);\n      return;\n    }\n\n    const unique = [...new Set(newNames)];\n    const actual = unique.filter(n => n.trim().length > 0);\n    const short = actual.filter(n => n.length < 3);\n    setShortNames(short);\n\n    const notShort = actual.filter(n => n.length >= 3);\n    const malformed = notShort.filter(n => !validate(n) || n.indexOf(\".\") > -1);\n    const maybeNotMalformed = notShort.filter(n => validate(n) && n.indexOf(\".\") === -1);\n    let maybeValid: string[] = [];\n    maybeNotMalformed.forEach(n => {\n      try {\n        const normalized = normalize(n);\n        maybeValid.push(normalized);\n      } catch (e) {\n        malformed.push(n);\n      }\n    });\n    setMalformedNames(malformed);\n\n    Promise.all(maybeValid.map(n => Promise.all([n, registrar.available(n)])))\n      .then(availables => {\n        setTakenNames(availables.filter(([, available]) => !available).map(([name]) => name));\n        setGoodNames(availables.filter(([, available]) => available).map(([name]) => name));\n      })\n      .catch(console.error);\n  }, [newNames, registrar, setTotalCost, validateNames]);\n\n  useEffect(() => {\n    setTotalCost(prices.reduce((p, n) => p.add(n.price), BigNumber.from(0)));\n  }, [setTotalCost, prices]);\n\n  useEffect(() => {\n    if (reset) {\n      setValidateNames(false);\n    }\n  }, [reset]);\n\n  const addToTotalCost = useCallback((name: string, price: BigNumber) => {\n    setPrices(prices => {\n      const newPrices = [...prices];\n      const existingPriceIndex = newPrices.findIndex(p => p.name === name);\n      if (existingPriceIndex === -1) {\n        newPrices.push({ name, price });\n      } else {\n        newPrices[existingPriceIndex].price = price;\n      }\n      return newPrices;\n    });\n  }, []);\n\n  return (\n    <div>\n      <div className=\"mb-4\">\n        <div className=\"text-2xl mb-2\">\n          Register Multiple Names\n        </div>\n\n        <div className=\"flex justify-between\">\n          <div className=\"text-sm\">\n            One new ENS name per line, don't include <span className=\"font-mono\">.eth</span>\n          </div>\n          <div className=\"text-sm\">\n            {newNamesLength}/{maxNames}\n          </div>\n        </div>\n\n        <textarea\n          className=\"w-full border p-2\"\n          rows={10}\n          value={newNames.join(`\\n`)}\n          disabled={validateNames}\n          onChange={(e) => setNewNames(e.target.value.split(`\\n`).map(n => n.trim()))}\n        />\n\n        <div className=\"flex\">\n          <Button\n            disabled={validateDisabled}\n            onClick={() => setValidateNames(true)}\n          >\n            Validate names\n          </Button>\n          <div className=\"mx-1\" />\n          <Button\n            disabled={!validateNames}\n            onClick={() => setValidateNames(false)}\n          >\n            Edit names\n          </Button>\n        </div>\n      </div>\n\n      {shortNames.length > 0 && (\n        <Validated emoji={`👎`} reason=\"too short\" result=\"skipped\">\n          {shortNames.map((n, i) => <li key={i}>{n}</li>)}\n        </Validated>\n      )}\n\n      {takenNames.length > 0 && (\n        <Validated emoji={`👎`} reason=\"already taken\" result=\"skipped\">\n          {takenNames.map((n, i) => <li key={i}>{n}</li>)}\n        </Validated>\n      )}\n\n      {malformedNames.length > 0 && (\n        <Validated emoji={`👎`} reason=\"malformed\" result=\"skipped\">\n          {malformedNames.map((n, i) => <li key={i}>{n}</li>)}\n        </Validated>\n      )}\n\n      {goodNames.length > 0 && (\n        <Validated emoji={`👍`} reason=\"looking good\" result=\"registered\">\n          <div className=\"mb-2 flex items-center\">\n            <div>\n              <Button\n                disabled={registrationYears === 1}\n                onClick={() => setRegistrationYears(years => years - 1)}\n              >\n                -\n              </Button>\n            </div>\n            <div className=\"mx-2\">\n              {registrationYears} {registrationYears > 1 ? \"years\" : \"year\"}\n            </div>\n            <div>\n              <Button\n                disabled={false}\n                onClick={() => setRegistrationYears(years => years + 1)}\n              >\n                +\n              </Button>\n            </div>\n          </div>\n          {goodNames.map((n, i) => (\n            <GoodName\n              key={i}\n              name={n}\n              duration={duration}\n              addToTotalCost={addToTotalCost}\n            />\n          ))}\n          <div className=\"mt-2\">\n            <div className=\"text-xl font-bold\">Total cost</div>\n            <div>{ethers.utils.formatEther(totalCost)}Ξ</div>\n          </div>\n        </Validated>\n      )}\n    </div>\n  );\n}\n\nexport default EnterNames;\n","import { useState, useEffect } from 'react';\nimport { BigNumber } from 'ethers';\nimport { useData } from './data';\nimport { useWeb3 } from './web3';\nimport { useTransaction } from './web3/transactions';\nimport Button from './Button';\n\nfunction Register({\n  waited,\n  names,\n  secrets,\n  duration,\n  totalCost,\n  setReset,\n}: {\n  waited: boolean,\n  names: string[],\n  secrets: Uint8Array[],\n  duration: number,\n  totalCost: BigNumber,\n  setReset: React.Dispatch<React.SetStateAction<boolean>>,\n}) {\n  const { contracts: { multiRegister } } = useData();\n  const { account } = useWeb3();\n  const { contractCall, pending } = useTransaction();\n  const [buttonDisabled, setButtonDisabled] = useState(true);\n\n  useEffect(() => {\n    setButtonDisabled(pending || !waited);\n  }, [waited, pending]);\n\n  const register = () => {\n    if (!account || !multiRegister) {\n      return;\n    }\n\n    contractCall(\n      () => multiRegister.multiRegister(account, duration, names, secrets, { value: totalCost }),\n      \"Registering names\", \"Registering names failed\", \"Registering names succeeded\",\n      undefined, () => setReset(true),\n    );\n  }\n\n  return (\n    <div className=\"mb-4\">\n      {secrets.length === names.length && (\n        <Button\n          disabled={buttonDisabled}\n          onClick={register}\n        >\n          Register names\n        </Button>\n      )}\n    </div>\n  );\n}\n\nexport default Register;\n","import { useEffect, useState } from 'react';\nimport { BigNumber } from 'ethers';\nimport Header from './Header';\nimport EnterNames from './EnterNames';\nimport Commit from './Commit';\nimport Register from './Register';\nimport { useWeb3 } from './web3';\n\nfunction App() {\n  const { account } = useWeb3();\n  const [names, setNames] = useState<string[]>([]);\n  const [secrets, setSecrets] = useState<Uint8Array[]>([]);\n  const [duration, setDuration] = useState<number>(0);\n  const [totalCost, setTotalCost] = useState(BigNumber.from(0))\n  const [showActions, setShowActions] = useState(false);\n  const [showRegister, setShowRegister] = useState(false);\n  const [committed, setCommitted] = useState(false);\n  const [waited, setWaited] = useState(false);\n  const [reset, setReset] = useState(false);\n\n  useEffect(() => {\n    if (reset) {\n      setReset(false);\n    }\n  }, [reset]);\n\n  useEffect(() => {\n    setShowActions(!!account && names.length > 0);\n  }, [account, names.length]);\n\n  useEffect(() => {\n    setShowRegister(committed);\n  }, [committed]);\n\n  return (\n    <div className=\"container\">\n      <Header />\n      <EnterNames\n        setNames={setNames}\n        duration={duration}\n        setDuration={setDuration}\n        totalCost={totalCost}\n        setTotalCost={setTotalCost}\n        reset={reset}\n      />\n      {showActions && (\n        <div>\n          <Commit\n            committed={committed}\n            setCommitted={setCommitted}\n            setWaited={setWaited}\n            names={names}\n            setSecrets={setSecrets}\n            reset={reset}\n          />\n          {showRegister && (\n            <Register\n              waited={waited}\n              names={names}\n              secrets={secrets}\n              duration={duration}\n              totalCost={totalCost}\n              setReset={setReset}\n            />\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ToastContainer } from 'react-toastify';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Web3Provider } from './web3';\nimport { DataProvider } from './data';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Web3Provider>\n      <DataProvider>\n        <ToastContainer\n          position=\"bottom-right\"\n          closeButton={false}\n          newestOnTop={false}\n        />\n        <App />\n      </DataProvider>\n    </Web3Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React, { createContext, useContext } from 'react';\nimport { Web3Custom, useProvider, defaultWeb3 } from './providers';\n\nconst createWeb3Root = (context: React.Context<Web3Custom>) => {\n  const Web3Root = ({ children }: { children: React.ReactNode }) => {\n    const web3Provider = useProvider();\n\n    return (\n      <context.Provider value={web3Provider}>\n        {children}\n      </context.Provider>\n    );\n  };\n\n  return Web3Root;\n};\n\nconst web3Context = createContext(defaultWeb3);\n\nconst Web3Provider = createWeb3Root(web3Context);\n\nconst useWeb3 = () => {\n  return useContext(web3Context);\n};\n\nexport { Web3Provider, useWeb3 };\n","/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\n\nimport { Contract, Signer, utils } from \"ethers\";\nimport { Provider } from \"@ethersproject/providers\";\nimport type {\n  IETHRegistrarController,\n  IETHRegistrarControllerInterface,\n} from \"../IETHRegistrarController\";\n\nconst _abi = [\n  {\n    inputs: [\n      {\n        internalType: \"string\",\n        name: \"name\",\n        type: \"string\",\n      },\n    ],\n    name: \"available\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"commitment\",\n        type: \"bytes32\",\n      },\n    ],\n    name: \"commit\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"string\",\n        name: \"name\",\n        type: \"string\",\n      },\n      {\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"duration\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"secret\",\n        type: \"bytes32\",\n      },\n    ],\n    name: \"register\",\n    outputs: [],\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"string\",\n        name: \"name\",\n        type: \"string\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"duration\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"rentPrice\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n];\n\nexport class IETHRegistrarController__factory {\n  static readonly abi = _abi;\n  static createInterface(): IETHRegistrarControllerInterface {\n    return new utils.Interface(_abi) as IETHRegistrarControllerInterface;\n  }\n  static connect(\n    address: string,\n    signerOrProvider: Signer | Provider\n  ): IETHRegistrarController {\n    return new Contract(\n      address,\n      _abi,\n      signerOrProvider\n    ) as IETHRegistrarController;\n  }\n}\n","/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\n\nimport { Signer, utils, Contract, ContractFactory, Overrides } from \"ethers\";\nimport { Provider, TransactionRequest } from \"@ethersproject/providers\";\nimport type { MultiRegister, MultiRegisterInterface } from \"../MultiRegister\";\n\nconst _abi = [\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"registrar_\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n  {\n    inputs: [],\n    name: \"getRegistrar\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32[]\",\n        name: \"commitments\",\n        type: \"bytes32[]\",\n      },\n    ],\n    name: \"multiCommit\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"duration\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"string[]\",\n        name: \"names\",\n        type: \"string[]\",\n      },\n      {\n        internalType: \"bytes32[]\",\n        name: \"secrets\",\n        type: \"bytes32[]\",\n      },\n    ],\n    name: \"multiRegister\",\n    outputs: [],\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n];\n\nconst _bytecode =\n  \"0x608060405234801561001057600080fd5b50604051610c08380380610c08833981810160405281019061003291906100db565b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610108565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006100a88261007d565b9050919050565b6100b88161009d565b81146100c357600080fd5b50565b6000815190506100d5816100af565b92915050565b6000602082840312156100f1576100f0610078565b5b60006100ff848285016100c6565b91505092915050565b610af1806101176000396000f3fe6080604052600436106100345760003560e01c80634d3f7334146100395780636e61accc14610064578063d16050e614610080575b600080fd5b34801561004557600080fd5b5061004e6100a9565b60405161005b9190610514565b60405180910390f35b61007e60048036038101906100799190610656565b6100d2565b005b34801561008c57600080fd5b506100a760048036038101906100a291906106fd565b610409565b005b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b81819050848490501461011a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610111906107a7565b60405180910390fd5b60005b848490508110156103b95760008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663aeb8ce9b868684818110610177576101766107c7565b5b90506020028101906101899190610805565b6040518363ffffffff1660e01b81526004016101a69291906108b5565b60206040518083038186803b1580156101be57600080fd5b505afa1580156101d2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101f69190610911565b6101ff576103a6565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166383e7f6ff878785818110610251576102506107c7565b5b90506020028101906102639190610805565b8a6040518463ffffffff1660e01b81526004016102829392919061094d565b60206040518083038186803b15801561029a57600080fd5b505afa1580156102ae573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102d29190610994565b905060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166385f6d15582888886818110610324576103236107c7565b5b90506020028101906103369190610805565b8c8c8a8a8a81811061034b5761034a6107c7565b5b905060200201356040518763ffffffff1660e01b81526004016103729594939291906109da565b6000604051808303818588803b15801561038b57600080fd5b505af115801561039f573d6000803e3d6000fd5b5050505050505b80806103b190610a57565b91505061011d565b503373ffffffffffffffffffffffffffffffffffffffff166108fc479081150290604051600060405180830381858888f19350505050158015610400573d6000803e3d6000fd5b50505050505050565b60005b828290508110156104ce5760008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663f14fcbc8848484818110610466576104656107c7565b5b905060200201356040518263ffffffff1660e01b81526004016104899190610aa0565b600060405180830381600087803b1580156104a357600080fd5b505af11580156104b7573d6000803e3d6000fd5b5050505080806104c690610a57565b91505061040c565b505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006104fe826104d3565b9050919050565b61050e816104f3565b82525050565b60006020820190506105296000830184610505565b92915050565b600080fd5b600080fd5b610542816104f3565b811461054d57600080fd5b50565b60008135905061055f81610539565b92915050565b6000819050919050565b61057881610565565b811461058357600080fd5b50565b6000813590506105958161056f565b92915050565b600080fd5b600080fd5b600080fd5b60008083601f8401126105c0576105bf61059b565b5b8235905067ffffffffffffffff8111156105dd576105dc6105a0565b5b6020830191508360208202830111156105f9576105f86105a5565b5b9250929050565b60008083601f8401126106165761061561059b565b5b8235905067ffffffffffffffff811115610633576106326105a0565b5b60208301915083602082028301111561064f5761064e6105a5565b5b9250929050565b600080600080600080608087890312156106735761067261052f565b5b600061068189828a01610550565b965050602061069289828a01610586565b955050604087013567ffffffffffffffff8111156106b3576106b2610534565b5b6106bf89828a016105aa565b9450945050606087013567ffffffffffffffff8111156106e2576106e1610534565b5b6106ee89828a01610600565b92509250509295509295509295565b600080602083850312156107145761071361052f565b5b600083013567ffffffffffffffff81111561073257610731610534565b5b61073e85828601610600565b92509250509250929050565b600082825260208201905092915050565b7f6172726179206c656e677468206d69736d617463680000000000000000000000600082015250565b600061079160158361074a565b915061079c8261075b565b602082019050919050565b600060208201905081810360008301526107c081610784565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008083356001602003843603038112610822576108216107f6565b5b80840192508235915067ffffffffffffffff821115610844576108436107fb565b5b6020830192506001820236038313156108605761085f610800565b5b509250929050565b82818337600083830152505050565b6000601f19601f8301169050919050565b6000610894838561074a565b93506108a1838584610868565b6108aa83610877565b840190509392505050565b600060208201905081810360008301526108d0818486610888565b90509392505050565b60008115159050919050565b6108ee816108d9565b81146108f957600080fd5b50565b60008151905061090b816108e5565b92915050565b6000602082840312156109275761092661052f565b5b6000610935848285016108fc565b91505092915050565b61094781610565565b82525050565b60006040820190508181036000830152610968818587610888565b9050610977602083018461093e565b949350505050565b60008151905061098e8161056f565b92915050565b6000602082840312156109aa576109a961052f565b5b60006109b88482850161097f565b91505092915050565b6000819050919050565b6109d4816109c1565b82525050565b600060808201905081810360008301526109f5818789610888565b9050610a046020830186610505565b610a11604083018561093e565b610a1e60608301846109cb565b9695505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610a6282610565565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415610a9557610a94610a28565b5b600182019050919050565b6000602082019050610ab560008301846109cb565b9291505056fea264697066735822122029b6c737c3c823ef6c944593a7a127e40213a62ebac2c478f91956bc5af86b3e64736f6c63430008080033\";\n\nexport class MultiRegister__factory extends ContractFactory {\n  constructor(signer?: Signer) {\n    super(_abi, _bytecode, signer);\n  }\n\n  deploy(\n    registrar_: string,\n    overrides?: Overrides & { from?: string | Promise<string> }\n  ): Promise<MultiRegister> {\n    return super.deploy(registrar_, overrides || {}) as Promise<MultiRegister>;\n  }\n  getDeployTransaction(\n    registrar_: string,\n    overrides?: Overrides & { from?: string | Promise<string> }\n  ): TransactionRequest {\n    return super.getDeployTransaction(registrar_, overrides || {});\n  }\n  attach(address: string): MultiRegister {\n    return super.attach(address) as MultiRegister;\n  }\n  connect(signer: Signer): MultiRegister__factory {\n    return super.connect(signer) as MultiRegister__factory;\n  }\n  static readonly bytecode = _bytecode;\n  static readonly abi = _abi;\n  static createInterface(): MultiRegisterInterface {\n    return new utils.Interface(_abi) as MultiRegisterInterface;\n  }\n  static connect(\n    address: string,\n    signerOrProvider: Signer | Provider\n  ): MultiRegister {\n    return new Contract(address, _abi, signerOrProvider) as MultiRegister;\n  }\n}\n","import {\n  MultiRegister,\n  IETHRegistrarController,\n} from '../../contracts/typechain';\n\nimport {\n  useMultiRegisterContract,\n  useRegistrarContract,\n} from './contracts';\n\nexport interface Data {\n  contracts: {\n    multiRegister: MultiRegister | undefined,\n    registrar: IETHRegistrarController | undefined,\n  },\n};\n\nfunction useSystemData() {\n  const multiRegisterContract = useMultiRegisterContract();\n  const registrarContract = useRegistrarContract(multiRegisterContract);\n  \n  const data: Data = {\n    contracts: {\n      multiRegister: multiRegisterContract,\n      registrar: registrarContract,\n    },\n  };\n\n  return data;\n}\n\nexport { useSystemData };\n","import { useState, useEffect } from 'react';\nimport { useWeb3 } from '../web3';\nimport { useAddresses } from '../web3/chains';\nimport {\n  MultiRegister, MultiRegister__factory,\n  IETHRegistrarController, IETHRegistrarController__factory,\n} from '../../contracts/typechain';\n\nconst useMultiRegisterContract = () => {\n  const { chainId, signerOrProvider } = useWeb3();\n  const { multiRegister } = useAddresses(chainId);\n  const [multiRegisterContract, setMultiRegisterContract] = useState<MultiRegister>();\n\n  useEffect(() => {\n    if (!chainId || !multiRegister || !signerOrProvider) {\n      setMultiRegisterContract(undefined);\n      return;\n    }\n\n    setMultiRegisterContract(MultiRegister__factory.connect(multiRegister, signerOrProvider));\n  }, [chainId, multiRegister, signerOrProvider]);\n\n  return multiRegisterContract;\n}\n\nconst useRegistrarContract = (multiRegisterContract: MultiRegister | undefined) => {\n  const { signerOrProvider } = useWeb3();\n  const [registrarContract, setRegistrarContract] = useState<IETHRegistrarController>();\n\n  useEffect(() => {\n    if (!multiRegisterContract || !signerOrProvider) {\n      setRegistrarContract(undefined);\n      return;\n    }\n\n    multiRegisterContract.getRegistrar()\n      .then(registrarAddress => setRegistrarContract(IETHRegistrarController__factory.connect(registrarAddress, signerOrProvider)))\n      .catch(console.error);\n  }, [multiRegisterContract, signerOrProvider]);\n\n  return registrarContract;\n}\n\nexport {\n  useMultiRegisterContract,\n  useRegistrarContract,\n}\n","import { createContext, useContext } from 'react';\nimport { Data, useSystemData } from './data';\n\nconst createDataRoot = (context: React.Context<Data>) => {\n  const DataRoot = ({ children }: { children: React.ReactNode }) => {\n    const data = useSystemData();\n\n    return (\n      <context.Provider value={data}>\n        {children}\n      </context.Provider>\n    );\n  }\n\n  return DataRoot;\n}\n\nconst dataContext = createContext({} as Data);\n\nconst DataProvider = createDataRoot(dataContext);\n\nconst useData = () => {\n  return useContext(dataContext);\n};\n\nexport { DataProvider, useData };","import { useState, useEffect } from 'react';\n\nconst supportedChains = () => {\n  const dev = process.env.NODE_ENV !== 'production' ? [parseInt(process.env.REACT_APP_LOCAL_CHAIN_ID || \"0\", 10)] : [];\n  const supported = [...dev, ...(process.env.REACT_APP_SUPPORTED_CHAIN_IDS || \"\").split(\",\").map(i => parseInt(i, 10))];\n  return supported;\n};\n\nconst useAddresses = (chainId: number | undefined) => {\n  const [addresses, setAddresses] = useState<{ multiRegister?: string }>({});\n\n  useEffect(() => {\n    if (!chainId) return;\n\n    if (\n      process.env.REACT_APP_LOCAL_CHAIN_ID &&\n      chainId === parseInt(process.env.REACT_APP_LOCAL_CHAIN_ID, 10)\n    ) {\n      if (!process.env.REACT_APP_LOCAL_MULTI_REGISTER_ADDRESS) {\n        console.error(\"No local addresses have been set!\");\n        setAddresses({});\n        return;\n      }\n\n      setAddresses({\n        multiRegister: process.env.REACT_APP_LOCAL_MULTI_REGISTER_ADDRESS,\n      });\n    } else {\n      if (!process.env.REACT_APP_MULTI_REGISTER_ADDRESSES) {\n        console.error(\"No addresses have been set!\");\n        setAddresses({});\n        return;\n      }\n\n      const networksAddresses = JSON.parse(process.env.REACT_APP_MULTI_REGISTER_ADDRESSES);\n      const multiRegisterAddress: string = networksAddresses[chainId];\n\n      if (!multiRegisterAddress) {\n        console.error(`Address for network ${chainId} is not set!`);\n        setAddresses({});\n        return;\n      }\n\n      setAddresses({\n        multiRegister: multiRegisterAddress,\n      });\n    }\n  }, [chainId]);\n\n  return addresses;\n};\n\nexport {\n  supportedChains,\n  useAddresses\n};\n","function Button({\n  disabled,\n  onClick,\n  children,\n}: {\n  disabled: boolean,\n  onClick: () => void,\n  children: React.ReactNode,\n}) {\n  return (\n    <button\n      className={`px-4 py-2 border rounded ${disabled ? \"text-gray-400 cursor-default\" : \"\"}`}\n      disabled={disabled}\n      onClick={onClick}\n    >\n      {children}\n    </button>\n  )\n}\n\nexport default Button;\n","import { useEffect, useState } from 'react';\nimport { ethers, getDefaultProvider } from 'ethers';\nimport Web3Modal from 'web3modal';\nimport { supportedChains } from './chains';\nimport { useListeners } from './listeners';\n\nexport interface Web3Custom {\n  connected: boolean,\n  provided: boolean,\n  providerName: string,\n  networkName?: string,\n  account?: string,\n  chainId?: number,\n  provider?: ethers.providers.Provider,\n  signerOrProvider?: ethers.providers.Provider | ethers.Signer,\n};\n\nlet listenerProvider: ethers.providers.Provider;\n\ninterface ProviderApiKeys {\n  infura?: string,\n  alchemy?: string,\n  etherscan?: string,\n};\n\nconst web3Modal = new Web3Modal({\n  cacheProvider: true,\n});\n\nexport const defaultWeb3: Web3Custom = {\n  connected: false,\n  provided: false,\n  providerName: 'not connected',\n};\n\nconst makeInjectedProvider = async (web3Provider: ethers.providers.Web3Provider) => {\n  const local =\n    process.env.REACT_APP_LOCAL_CHAIN_ID &&\n    (await web3Provider.getNetwork()).chainId === parseInt(process.env.REACT_APP_LOCAL_CHAIN_ID, 10);\n\n  const customProvider: Web3Custom = {\n    connected: true,\n    provided: true,\n    providerName: 'injected provider',\n    networkName: local ? 'localhost' : (await web3Provider.getNetwork()).name,\n    account: await web3Provider.getSigner().getAddress(),\n    chainId: (await web3Provider.getNetwork()).chainId,\n    provider: web3Provider,\n    signerOrProvider: web3Provider.getSigner(),\n  };\n\n  listenerProvider = web3Provider.provider as ethers.providers.Provider;\n\n  return customProvider;\n}\n\nconst getInjectedProvider = (web3Modal: Web3Modal) => {\n  return new Promise<Web3Custom>((resolve, reject) => {\n    web3Modal.connect()\n      .then(userSuppliedProvider => makeInjectedProvider(new ethers.providers.Web3Provider(userSuppliedProvider)))\n      .then(resolve)\n      .catch(reject);\n  });\n}\n\nconst getLocalProvider = () => {\n  const localProvider = new ethers.providers.JsonRpcProvider(process.env.REACT_APP_LOCAL_PROVIDER_URL);\n  return new Promise<Web3Custom>((resolve, reject) => {\n    localProvider.detectNetwork().then(network => {\n      resolve({\n        connected: true,\n        provided: true,\n        providerName: 'local provider',\n        networkName: 'localhost',\n        account: '',\n        chainId: network.chainId,\n        provider: localProvider,\n        signerOrProvider: localProvider,\n      });\n    }).catch(reject);\n  });\n}\n\nconst getFallbackProvider = () => {\n  const providerApiKeys: ProviderApiKeys = {};\n  if (process.env.REACT_APP_INFURA_API_KEY) providerApiKeys.infura = process.env.REACT_APP_INFURA_API_KEY;\n  if (process.env.REACT_APP_ALCHEMY_API_KEY) providerApiKeys.alchemy = process.env.REACT_APP_ALCHEMY_API_KEY;\n  if (process.env.REACT_APP_ETHERSCAN_API_KEY) providerApiKeys.etherscan = process.env.REACT_APP_ETHERSCAN_API_KEY;\n\n  const network = ethers.providers.getNetwork(parseInt(process.env.REACT_APP_FALLBACK_CHAIN_ID || \"0\", 10));\n  const defaultProvider = getDefaultProvider(network, providerApiKeys);\n\n  const provider: Web3Custom = {\n    connected: true,\n    provided: false,\n    providerName: 'fallback provider',\n    networkName: defaultProvider.network.name,\n    account: '',\n    chainId: defaultProvider.network.chainId,\n    provider: defaultProvider,\n    signerOrProvider: defaultProvider,\n  };\n\n  return provider;\n}\n\nconst useProvider = () => {\n  const [web3Provider, setWeb3Provider] = useState(defaultWeb3);\n\n  const reloadedProvider = useListeners(listenerProvider, web3Modal);\n  useEffect(() => {\n    if (!reloadedProvider) {\n      setWeb3Provider(defaultWeb3);\n    } else {\n      makeInjectedProvider(reloadedProvider)\n        .then(setWeb3Provider)\n        .catch(console.error);\n    }\n  }, [reloadedProvider]);\n\n  useEffect(() => {\n    if (web3Provider.connected) return;\n\n    if (web3Modal.cachedProvider && !web3Provider.provider) {\n      getInjectedProvider(web3Modal)\n        .then(setWeb3Provider)\n        .catch(console.error);\n\n      return;\n    }\n\n    if (web3Provider.provider) {\n      web3Provider.provider.getNetwork()\n        .then(network => {\n          if (supportedChains().includes(network.chainId)) {\n            getInjectedProvider(web3Modal)\n              .then(setWeb3Provider)\n              .catch(console.error);\n\n            return;\n          }\n        })\n        .catch(console.error);\n    }\n\n    if (process.env.NODE_ENV === 'development') {\n      getLocalProvider()\n        .then(setWeb3Provider)\n        .catch(() => setWeb3Provider(getFallbackProvider()));\n\n      return;\n    }\n\n    setWeb3Provider(getFallbackProvider());\n  }, [web3Provider.connected, web3Provider.provider]);\n\n  return web3Provider;\n}\n\nconst connect = () => {\n  web3Modal.connect().catch(console.error);\n}\n\nexport { useProvider, connect };\n","import { useState, useEffect } from 'react';\nimport { ethers } from 'ethers';\nimport { toast } from 'react-toastify';\nimport Web3Modal from 'web3modal';\nimport { supportedChains } from './chains';\n\nconst useListeners = (provider: ethers.providers.Provider | undefined, web3Modal: Web3Modal) => {\n  const [myProvider, setMyProvider] = useState<ethers.providers.Web3Provider | null>(null);\n\n  useEffect(() => {\n    // subscribe to connect events\n    web3Modal.on('connect', provider => {\n      if (!supportedChains().includes(parseInt(provider.chainId))) {\n        toast(`Switch to a supported network: ${supportedChains().join(\", \")}`, { toastId: 'switchNetwork' });\n        web3Modal.clearCachedProvider();\n        setMyProvider(null);\n      } else {\n        const web3Provider = new ethers.providers.Web3Provider(provider);\n        setMyProvider(web3Provider);\n        toast('Connected', { toastId: 'connected' });\n      }\n    });\n\n    return () => {\n      web3Modal.off('connect');\n    };\n  }, [web3Modal]);\n\n  useEffect(() => {\n    if (!provider) return;\n\n    // subscribe to Network events\n    provider.on('chainChanged', (chainId: string) => {\n      if (!supportedChains().includes(parseInt(chainId))) {\n        toast(`Switch to a supported network: ${supportedChains().join(\", \")}`, { toastId: 'switchNetwork' });\n        web3Modal.clearCachedProvider();\n        setMyProvider(null);\n      } else {\n        toast('Network changed', { toastId: 'switchNetwork' });\n        const web3Provider = new ethers.providers.Web3Provider(provider as any);\n        setMyProvider(web3Provider);\n      };\n    });\n\n    // subscribe to account change events\n    provider.on('accountsChanged', (accounts: string[]) => {\n      if (accounts.length === 0) {\n        toast('Account disconnected', { toastId: 'disconnected' });\n        web3Modal.clearCachedProvider();\n        setMyProvider(null);\n      } else {\n        toast('Account changed', { toastId: 'connected' });\n        web3Modal.connect();\n      }\n    });\n\n    // subscribe to provider disconnection\n    provider.on('disconnect', () => {\n      toast('Account disconnected', { toastId: 'disconnected' });\n      web3Modal.clearCachedProvider();\n      setMyProvider(null);\n    });\n\n    // unsubscribe\n    return () => {\n      provider.removeAllListeners();\n    };\n  }, [provider, web3Modal]);\n\n  return myProvider;\n}\n\nexport { useListeners };\n","import { ethers } from 'ethers';\nimport React, { useState, useCallback } from 'react';\nimport { toast } from 'react-toastify';\n\ninterface ProviderRpcError extends Error {\n  message: string;\n  code: number;\n  data?: unknown;\n}\n\nconst useTransaction = () => {\n  const [pending, setPending] = useState(false);\n\n  const contractCall = useCallback(\n    (\n      contractFn: () => Promise<ethers.ContractTransaction>,\n      pendingMessage: string,\n      failedMessage: string,\n      successMessage: string,\n      failedCallback?: () => void,\n      successCallback?: () => void,\n      completedCallback?: () => void\n    ) => {\n      setPending(true);\n      let toastId: React.ReactText;\n      toastId = toast(pendingMessage, {\n        autoClose: false,\n        closeOnClick: false,\n        draggable: false,\n        closeButton: false,\n      });\n      contractFn()\n        .then((txResponse: ethers.ContractTransaction) => {\n          const wait =\n            process.env.NODE_ENV !== \"development\"\n              ? 0\n              : process.env.REACT_APP_DEVELOPMENT_TX_WAIT_MS\n                ? parseInt(process.env.REACT_APP_DEVELOPMENT_TX_WAIT_MS)\n                : 0\n\n          return Promise.all([\n            new Promise(resolve => setTimeout(\n              () => resolve(null),\n              wait\n            )).then(() => txResponse.wait()),\n            toastId\n          ]);\n        })\n        .then(([txReceipt, toastId]) => {\n          setPending(false);\n          toast.dismiss(toastId);\n          if (txReceipt.status === 0) {\n            toast.error(failedMessage);\n            if (failedCallback) failedCallback();\n          } else if (txReceipt.status === 1) {\n            toast(successMessage);\n            if (successCallback) successCallback();\n          } else {\n            toast.error(\"Not sure what happened with that transaction\");\n            if (failedCallback) failedCallback();\n          }\n          if (completedCallback) completedCallback();\n        })\n        .catch((error: ProviderRpcError) => {\n          console.error(error);\n          setPending(false);\n          toast.dismiss(toastId);\n          if (error.code !== 4001) {\n            toast.error(\"There was an error! Check your browser's console logs for more details.\");\n          }\n          if (failedCallback) failedCallback();\n        });\n    }, []);\n\n  return { contractCall, pending };\n}\n\nexport { useTransaction };\n","import { useState, useEffect } from 'react';\nimport { ethers } from 'ethers';\nimport { useData } from './data';\nimport { useWeb3 } from './web3';\nimport { useTransaction } from './web3/transactions';\nimport Button from './Button';\n\nfunction Commit({\n  committed,\n  setCommitted,\n  setWaited,\n  names,\n  setSecrets,\n  reset,\n}: {\n  committed: boolean,\n  setCommitted: React.Dispatch<React.SetStateAction<boolean>>,\n  setWaited: React.Dispatch<React.SetStateAction<boolean>>,\n  names: string[],\n  setSecrets: React.Dispatch<React.SetStateAction<Uint8Array[]>>,\n  reset: boolean,\n}) {\n  const { contracts: { multiRegister } } = useData();\n  const { account } = useWeb3();\n  const { contractCall, pending } = useTransaction();\n  const [commitments, setCommitments] = useState<string[]>([]);\n  const [disableButton, setDisableButton] = useState(true);\n  const [totalWait] = useState(70);\n  const [countdown, setCountdown] = useState(totalWait);\n\n  useEffect(() => {\n    setDisableButton(pending || committed);\n  }, [pending, committed]);\n\n  useEffect(() => {\n    const labels = names.map(name => ethers.utils.keccak256(Buffer.from(name)));\n    const secrets = names.map(_ => ethers.utils.randomBytes(32));\n    setSecrets(secrets);\n    const commitments = names.map((_, i) => ethers.utils.solidityKeccak256([\"bytes32\", \"address\", \"bytes32\"], [labels[i], account, secrets[i]]));\n    setCommitments(commitments);\n  }, [account, names, setSecrets]);\n\n  useEffect(() => {\n    if (reset) {\n      setSecrets([]);\n      setCommitted(false);\n    }\n  }, [reset, setCommitted, setSecrets]);\n\n  const commit = () => {\n    if (!multiRegister) {\n      return;\n    }\n\n    contractCall(\n      () => multiRegister.multiCommit(commitments),\n      \"Committing to names\", \"Committing to names failed\", \"Committing to names succeeded\",\n      undefined, () => setCommitted(true),\n    );\n  }\n\n  useEffect(() => {\n    if (!committed) {\n      return;\n    }\n\n    const interval = setInterval(() => {\n      setCountdown(countdown => {\n        const newCountdown = countdown - 1;\n        if (newCountdown === 0) {\n          clearInterval(interval);\n        }\n        return newCountdown;\n      });\n\n    }, 1000);\n  }, [committed]);\n\n  useEffect(() => {\n    if (countdown === 0) {\n      setWaited(true);\n    }\n  }, [countdown, setWaited]);\n\n  return (\n    <div className=\"mb-4\">\n      {commitments.length === names.length && (\n        <div>\n          <Button\n            disabled={disableButton}\n            onClick={commit}\n          >\n            Commit to names\n          </Button>\n          {committed && (\n            <div className=\"mt-4\">\n              <div className=\"italic text-3xl mb-2\">Don't refresh or nagivate anywhere bozo</div>\n              <div>Wait <span className=\"font-mono\">{countdown}</span> seconds</div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Commit;\n"],"sourceRoot":""}