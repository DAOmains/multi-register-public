(this["webpackJsonpensdao-multi-register"]=this["webpackJsonpensdao-multi-register"]||[]).push([[0],{103:function(e,t,f){},105:function(e,t){},113:function(e,t){},123:function(e,t,f){"use strict";f.r(t);var n=f(5),c=f.n(n),r=f(61),a=f.n(r),i=f(25),s=(f(103),f(11)),b=f(17),o=f(30),u=f(59),d=f(37),l=f(9);var j=function(){var e=Object(o.b)().account;return Object(l.jsxs)("div",{className:"py-4",children:[Object(l.jsx)("div",{className:"text-4xl mb-2",children:"ENSDAO Multi Register"}),Object(l.jsxs)("div",{children:[!e&&Object(l.jsx)(d.a,{onClick:u.a,disabled:!1,children:"Connect wallet"}),e&&Object(l.jsxs)("div",{children:["Connected with ",Object(l.jsx)("a",{className:"mr-1",href:"https://app.ens.domains/address/".concat(e),target:"_blank",rel:"noreferrer",children:e})]})]})]})},O=f(47),m=f(27),h=f(92),p=f(77),v=f(41);function x(e){var t=e.name,f=e.duration,c=e.addToTotalCost,r=Object(v.b)().contracts.registrar,a=Object(n.useState)("".concat(t,".eth")),i=Object(s.a)(a,1)[0],b=Object(n.useState)(),o=Object(s.a)(b,2),u=o[0],d=o[1];return Object(n.useEffect)((function(){r?r.rentPrice(t,f).then((function(e){return d(e.add(e.mul(10).div(100)))})).catch(console.error):d(void 0)}),[t,r,f]),Object(n.useEffect)((function(){u&&c(t,u)}),[c,t,u]),Object(l.jsxs)("li",{children:[i," ",u&&Object(l.jsxs)("span",{className:"text-sm",children:["(",m.a.utils.formatEther(u),"\u039e)"]})]})}function g(e){var t=e.name,f=Object(o.b)().provider,c=Object(n.useState)("".concat(t,".eth")),r=Object(s.a)(c,1)[0],a=Object(n.useState)(""),i=Object(s.a)(a,2),b=i[0],u=i[1],d=Object(n.useState)(""),j=Object(s.a)(d,2),O=j[0],m=j[1];return Object(n.useEffect)((function(){f?f.resolveName(r).then(u).catch(console.error):u("")}),[t,f,r]),Object(n.useEffect)((function(){f&&b?f.lookupAddress(b).then(m).catch(console.error):m("")}),[f,b]),Object(l.jsxs)("li",{children:[Object(l.jsx)("a",{className:"mr-1",href:"https://app.ens.domains/name/".concat(r),target:"_blank",rel:"noreferrer",children:r}),b&&Object(l.jsxs)("span",{className:"text-sm",children:["(resolves to ",Object(l.jsx)("a",{href:"https://app.ens.domains/address/".concat(b),target:"_blank",rel:"noreferrer",children:b}),O&&Object(l.jsxs)("span",{className:"ml-1",children:["(",Object(l.jsx)("a",{href:"https://app.ens.domains/name/".concat(O),target:"_blank",rel:"noreferrer",children:O}),")"]}),")"]})]})}function y(e){var t=e.emoji,f=e.reason,n=e.result,c=e.children;return Object(l.jsxs)("div",{className:"mb-4",children:[Object(l.jsxs)("div",{className:"text-2xl mb-2",children:[t," These names are ",Object(l.jsx)("span",{className:"font-bold",children:f})," and will be ",Object(l.jsx)("span",{className:"uppercase font-bold",children:n})]}),Object(l.jsx)("ol",{className:"list-decimal list-inside",children:c})]})}var k=function(e){var t=e.setNames,f=e.duration,c=e.setDuration,r=e.totalCost,a=e.setTotalCost,i=e.reset,o=Object(v.b)().contracts.registrar,u=Object(n.useState)(100),j=Object(s.a)(u,1)[0],k=Object(n.useState)(1),w=Object(s.a)(k,2),N=w[0],C=w[1],S=Object(n.useState)([]),E=Object(s.a)(S,2),T=E[0],I=E[1],P=Object(n.useState)(0),R=Object(s.a)(P,2),M=R[0],A=R[1],B=Object(n.useState)([]),D=Object(s.a)(B,2),W=D[0],F=D[1],_=Object(n.useState)([]),J=Object(s.a)(_,2),L=J[0],z=J[1],K=Object(n.useState)([]),V=Object(s.a)(K,2),q=V[0],G=V[1],H=Object(n.useState)([]),Q=Object(s.a)(H,2),U=Q[0],X=Q[1],Y=Object(n.useState)(!1),Z=Object(s.a)(Y,2),$=Z[0],ee=Z[1],te=Object(n.useState)(!0),fe=Object(s.a)(te,2),ne=fe[0],ce=fe[1],re=Object(n.useState)([]),ae=Object(s.a)(re,2),ie=ae[0],se=ae[1];Object(n.useEffect)((function(){var e=T.filter((function(e){return e.trim().length>0}));A(e.length)}),[T]),Object(n.useEffect)((function(){ce(0===M||$||M>j)}),[j,M,$]),Object(n.useEffect)((function(){t(W)}),[W,t]),Object(n.useEffect)((function(){c(31536e3*N)}),[N,c]),Object(n.useEffect)((function(){if(!$||!o)return F([]),z([]),X([]),G([]),void se([]);var e=Object(O.a)(new Set(T)).filter((function(e){return e.trim().length>0})),t=e.filter((function(e){return e.length<3}));z(t);var f=e.filter((function(e){return e.length>=3})),n=f.filter((function(e){return!Object(p.a)(e)||e.indexOf(".")>-1})),c=f.filter((function(e){return Object(p.a)(e)&&-1===e.indexOf(".")})),r=[];c.forEach((function(e){try{var t=Object(h.normalize)(e);r.push(t)}catch(f){n.push(e)}})),X(n),Promise.all(r.map((function(e){return Promise.all([e,o.available(e)])}))).then((function(e){G(e.filter((function(e){return!Object(s.a)(e,2)[1]})).map((function(e){return Object(s.a)(e,1)[0]}))),F(e.filter((function(e){return Object(s.a)(e,2)[1]})).map((function(e){return Object(s.a)(e,1)[0]})))})).catch(console.error)}),[T,o,a,$]),Object(n.useEffect)((function(){a(ie.reduce((function(e,t){return e.add(t.price)}),b.a.from(0)))}),[a,ie]),Object(n.useEffect)((function(){i&&ee(!1)}),[i]);var be=Object(n.useCallback)((function(e,t){se((function(f){var n=Object(O.a)(f),c=n.findIndex((function(t){return t.name===e}));return-1===c?n.push({name:e,price:t}):n[c].price=t,n}))}),[]);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"mb-4",children:[Object(l.jsx)("div",{className:"text-2xl mb-2",children:"Register Multiple Names"}),Object(l.jsxs)("div",{className:"flex justify-between",children:[Object(l.jsxs)("div",{className:"text-sm",children:["One new ENS name per line, don't include ",Object(l.jsx)("span",{className:"font-mono",children:".eth"})]}),Object(l.jsxs)("div",{className:"text-sm",children:[M,"/",j]})]}),Object(l.jsx)("textarea",{className:"w-full border p-2",rows:10,value:T.join("\n"),disabled:$,onChange:function(e){return I(e.target.value.split("\n").map((function(e){return e.trim()})))}}),Object(l.jsxs)("div",{className:"flex",children:[Object(l.jsx)(d.a,{disabled:ne,onClick:function(){return ee(!0)},children:"Validate names"}),Object(l.jsx)("div",{className:"mx-1"}),Object(l.jsx)(d.a,{disabled:!$,onClick:function(){return ee(!1)},children:"Edit names"})]})]}),L.length>0&&Object(l.jsx)(y,{emoji:"\ud83d\udc4e",reason:"too short",result:"skipped",children:L.map((function(e,t){return Object(l.jsx)("li",{children:e},t)}))}),q.length>0&&Object(l.jsx)(y,{emoji:"\ud83d\udc4e",reason:"already taken",result:"skipped",children:q.map((function(e,t){return Object(l.jsx)(g,{name:e},t)}))}),U.length>0&&Object(l.jsx)(y,{emoji:"\ud83d\udc4e",reason:"malformed",result:"skipped",children:U.map((function(e,t){return Object(l.jsx)("li",{children:e},t)}))}),W.length>0&&Object(l.jsxs)(y,{emoji:"\ud83d\udc4d",reason:"looking good",result:"registered",children:[W.map((function(e,t){return Object(l.jsx)(x,{name:e,duration:f,addToTotalCost:be},t)})),Object(l.jsxs)("div",{className:"my-2 flex items-center",children:[Object(l.jsx)("div",{children:Object(l.jsx)(d.a,{disabled:1===N,onClick:function(){return C((function(e){return e-1}))},children:"-"})}),Object(l.jsxs)("div",{className:"mx-2",children:[N," ",N>1?"years":"year"]}),Object(l.jsx)("div",{children:Object(l.jsx)(d.a,{disabled:!1,onClick:function(){return C((function(e){return e+1}))},children:"+"})})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"text-xl font-bold",children:"Total cost"}),Object(l.jsxs)("div",{children:[m.a.utils.formatEther(r),"\u039e"]})]})]})]})},w=f(93),N=f(66);var C=function(e){var t=e.waited,f=e.names,c=e.secrets,r=e.duration,a=e.totalCost,i=e.setReset,b=Object(v.b)().contracts.multiRegister,u=Object(o.b)().account,j=Object(N.a)(),O=j.contractCall,m=j.pending,h=Object(n.useState)(!0),p=Object(s.a)(h,2),x=p[0],g=p[1];return Object(n.useEffect)((function(){g(m||!t)}),[t,m]),Object(l.jsx)("div",{className:"mb-4",children:c.length===f.length&&Object(l.jsx)(d.a,{disabled:x,onClick:function(){u&&b&&O((function(){return b.multiRegister(u,r,f,c,{value:a})}),"Registering names","Registering names failed","Registering names succeeded",void 0,(function(){return i(!0)}))},children:"Register names"})})};var S=function(){var e=Object(o.b)().account,t=Object(n.useState)([]),f=Object(s.a)(t,2),c=f[0],r=f[1],a=Object(n.useState)([]),i=Object(s.a)(a,2),u=i[0],d=i[1],O=Object(n.useState)(0),m=Object(s.a)(O,2),h=m[0],p=m[1],v=Object(n.useState)(b.a.from(0)),x=Object(s.a)(v,2),g=x[0],y=x[1],N=Object(n.useState)(!1),S=Object(s.a)(N,2),E=S[0],T=S[1],I=Object(n.useState)(!1),P=Object(s.a)(I,2),R=P[0],M=P[1],A=Object(n.useState)(!1),B=Object(s.a)(A,2),D=B[0],W=B[1],F=Object(n.useState)(!1),_=Object(s.a)(F,2),J=_[0],L=_[1],z=Object(n.useState)(!1),K=Object(s.a)(z,2),V=K[0],q=K[1];return Object(n.useEffect)((function(){V&&q(!1)}),[V]),Object(n.useEffect)((function(){T(!!e&&c.length>0)}),[e,c.length]),Object(n.useEffect)((function(){M(D)}),[D]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(j,{}),Object(l.jsx)(k,{setNames:r,duration:h,setDuration:p,totalCost:g,setTotalCost:y,reset:V}),E&&Object(l.jsxs)("div",{children:[Object(l.jsx)(w.a,{committed:D,setCommitted:W,setWaited:L,names:c,setSecrets:d,reset:V}),R&&Object(l.jsx)(C,{waited:J,names:c,secrets:u,duration:h,totalCost:g,setReset:q})]})]})},E=function(e){e&&e instanceof Function&&f.e(3).then(f.bind(null,130)).then((function(t){var f=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;f(e),n(e),c(e),r(e),a(e)}))};a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(o.a,{children:Object(l.jsxs)(v.a,{children:[Object(l.jsx)(i.a,{position:"bottom-right",closeButton:!1,newestOnTop:!1}),Object(l.jsx)(S,{})]})})}),document.getElementById("root")),E()},30:function(e,t,f){"use strict";f.d(t,"a",(function(){return s})),f.d(t,"b",(function(){return b}));var n,c=f(5),r=f(59),a=f(9),i=Object(c.createContext)(r.b),s=(n=i,function(e){var t=e.children,f=Object(r.c)();return Object(a.jsx)(n.Provider,{value:f,children:t})}),b=function(){return Object(c.useContext)(i)}},37:function(e,t,f){"use strict";var n=f(9);t.a=function(e){var t=e.disabled,f=e.onClick,c=e.children;return Object(n.jsx)("button",{className:"px-4 py-2 border rounded ".concat(t?"text-gray-400 cursor-default":""),disabled:t,onClick:f,children:c})}},41:function(e,t,f){"use strict";f.d(t,"a",(function(){return w})),f.d(t,"b",(function(){return N}));var n=f(5),c=f(11),r=f(30),a=f(42),i=f(4),s=f(6),b=f(44),o=f(48),u=[{inputs:[{internalType:"string",name:"name",type:"string"}],name:"available",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"commitment",type:"bytes32"}],name:"commit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"bytes32",name:"secret",type:"bytes32"}],name:"register",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"rentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],d=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,null,[{key:"createInterface",value:function(){return new b.utils.Interface(u)}},{key:"connect",value:function(e,t){return new o.b(e,u,t)}}]),e}();d.abi=u;var l=f(21),j=f(19),O=f(8),m=f(7),h=[{inputs:[{internalType:"address",name:"registrar_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"getRegistrar",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32[]",name:"commitments",type:"bytes32[]"}],name:"multiCommit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"string[]",name:"names",type:"string[]"},{internalType:"bytes32[]",name:"secrets",type:"bytes32[]"}],name:"multiRegister",outputs:[],stateMutability:"payable",type:"function"}],p="0x608060405234801561001057600080fd5b50604051610c08380380610c08833981810160405281019061003291906100db565b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610108565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006100a88261007d565b9050919050565b6100b88161009d565b81146100c357600080fd5b50565b6000815190506100d5816100af565b92915050565b6000602082840312156100f1576100f0610078565b5b60006100ff848285016100c6565b91505092915050565b610af1806101176000396000f3fe6080604052600436106100345760003560e01c80634d3f7334146100395780636e61accc14610064578063d16050e614610080575b600080fd5b34801561004557600080fd5b5061004e6100a9565b60405161005b9190610514565b60405180910390f35b61007e60048036038101906100799190610656565b6100d2565b005b34801561008c57600080fd5b506100a760048036038101906100a291906106fd565b610409565b005b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b81819050848490501461011a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610111906107a7565b60405180910390fd5b60005b848490508110156103b95760008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663aeb8ce9b868684818110610177576101766107c7565b5b90506020028101906101899190610805565b6040518363ffffffff1660e01b81526004016101a69291906108b5565b60206040518083038186803b1580156101be57600080fd5b505afa1580156101d2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101f69190610911565b6101ff576103a6565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166383e7f6ff878785818110610251576102506107c7565b5b90506020028101906102639190610805565b8a6040518463ffffffff1660e01b81526004016102829392919061094d565b60206040518083038186803b15801561029a57600080fd5b505afa1580156102ae573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102d29190610994565b905060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166385f6d15582888886818110610324576103236107c7565b5b90506020028101906103369190610805565b8c8c8a8a8a81811061034b5761034a6107c7565b5b905060200201356040518763ffffffff1660e01b81526004016103729594939291906109da565b6000604051808303818588803b15801561038b57600080fd5b505af115801561039f573d6000803e3d6000fd5b5050505050505b80806103b190610a57565b91505061011d565b503373ffffffffffffffffffffffffffffffffffffffff166108fc479081150290604051600060405180830381858888f19350505050158015610400573d6000803e3d6000fd5b50505050505050565b60005b828290508110156104ce5760008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663f14fcbc8848484818110610466576104656107c7565b5b905060200201356040518263ffffffff1660e01b81526004016104899190610aa0565b600060405180830381600087803b1580156104a357600080fd5b505af11580156104b7573d6000803e3d6000fd5b5050505080806104c690610a57565b91505061040c565b505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006104fe826104d3565b9050919050565b61050e816104f3565b82525050565b60006020820190506105296000830184610505565b92915050565b600080fd5b600080fd5b610542816104f3565b811461054d57600080fd5b50565b60008135905061055f81610539565b92915050565b6000819050919050565b61057881610565565b811461058357600080fd5b50565b6000813590506105958161056f565b92915050565b600080fd5b600080fd5b600080fd5b60008083601f8401126105c0576105bf61059b565b5b8235905067ffffffffffffffff8111156105dd576105dc6105a0565b5b6020830191508360208202830111156105f9576105f86105a5565b5b9250929050565b60008083601f8401126106165761061561059b565b5b8235905067ffffffffffffffff811115610633576106326105a0565b5b60208301915083602082028301111561064f5761064e6105a5565b5b9250929050565b600080600080600080608087890312156106735761067261052f565b5b600061068189828a01610550565b965050602061069289828a01610586565b955050604087013567ffffffffffffffff8111156106b3576106b2610534565b5b6106bf89828a016105aa565b9450945050606087013567ffffffffffffffff8111156106e2576106e1610534565b5b6106ee89828a01610600565b92509250509295509295509295565b600080602083850312156107145761071361052f565b5b600083013567ffffffffffffffff81111561073257610731610534565b5b61073e85828601610600565b92509250509250929050565b600082825260208201905092915050565b7f6172726179206c656e677468206d69736d617463680000000000000000000000600082015250565b600061079160158361074a565b915061079c8261075b565b602082019050919050565b600060208201905081810360008301526107c081610784565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008083356001602003843603038112610822576108216107f6565b5b80840192508235915067ffffffffffffffff821115610844576108436107fb565b5b6020830192506001820236038313156108605761085f610800565b5b509250929050565b82818337600083830152505050565b6000601f19601f8301169050919050565b6000610894838561074a565b93506108a1838584610868565b6108aa83610877565b840190509392505050565b600060208201905081810360008301526108d0818486610888565b90509392505050565b60008115159050919050565b6108ee816108d9565b81146108f957600080fd5b50565b60008151905061090b816108e5565b92915050565b6000602082840312156109275761092661052f565b5b6000610935848285016108fc565b91505092915050565b61094781610565565b82525050565b60006040820190508181036000830152610968818587610888565b9050610977602083018461093e565b949350505050565b60008151905061098e8161056f565b92915050565b6000602082840312156109aa576109a961052f565b5b60006109b88482850161097f565b91505092915050565b6000819050919050565b6109d4816109c1565b82525050565b600060808201905081810360008301526109f5818789610888565b9050610a046020830186610505565b610a11604083018561093e565b610a1e60608301846109cb565b9695505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610a6282610565565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415610a9557610a94610a28565b5b600182019050919050565b6000602082019050610ab560008301846109cb565b9291505056fea264697066735822122029b6c737c3c823ef6c944593a7a127e40213a62ebac2c478f91956bc5af86b3e64736f6c63430008080033",v=function(e){Object(O.a)(f,e);var t=Object(m.a)(f);function f(e){return Object(i.a)(this,f),t.call(this,h,p,e)}return Object(s.a)(f,[{key:"deploy",value:function(e,t){return Object(l.a)(Object(j.a)(f.prototype),"deploy",this).call(this,e,t||{})}},{key:"getDeployTransaction",value:function(e,t){return Object(l.a)(Object(j.a)(f.prototype),"getDeployTransaction",this).call(this,e,t||{})}},{key:"attach",value:function(e){return Object(l.a)(Object(j.a)(f.prototype),"attach",this).call(this,e)}},{key:"connect",value:function(e){return Object(l.a)(Object(j.a)(f.prototype),"connect",this).call(this,e)}}],[{key:"createInterface",value:function(){return new b.utils.Interface(h)}},{key:"connect",value:function(e,t){return new o.b(e,h,t)}}]),f}(o.c);v.bytecode=p,v.abi=h;function x(){var e=function(){var e=Object(r.b)(),t=e.chainId,f=e.signerOrProvider,i=Object(a.b)(t).multiRegister,s=Object(n.useState)(),b=Object(c.a)(s,2),o=b[0],u=b[1];return Object(n.useEffect)((function(){u(t&&i&&f?v.connect(i,f):void 0)}),[t,i,f]),o}(),t=function(e){var t=Object(r.b)().signerOrProvider,f=Object(n.useState)(),a=Object(c.a)(f,2),i=a[0],s=a[1];return Object(n.useEffect)((function(){e&&t?e.getRegistrar().then((function(e){return s(d.connect(e,t))})).catch(console.error):s(void 0)}),[e,t]),i}(e);return{contracts:{multiRegister:e,registrar:t}}}var g,y=f(9),k=Object(n.createContext)({}),w=(g=k,function(e){var t=e.children,f=x();return Object(y.jsx)(g.Provider,{value:f,children:t})}),N=function(){return Object(n.useContext)(k)}},42:function(e,t,f){"use strict";f.d(t,"a",(function(){return a})),f.d(t,"b",(function(){return i}));var n=f(11),c=f(47),r=f(5),a=function(){return[].concat([],Object(c.a)("5".split(",").map((function(e){return parseInt(e,10)}))))},i=function(e){var t=Object(r.useState)({}),f=Object(n.a)(t,2),c=f[0],a=f[1];return Object(r.useEffect)((function(){if(e){if(e===parseInt("31337",10))return console.error("No local addresses have been set!"),void a({});var t=JSON.parse('{"5":"0x27fdcAaE9a0317d382CB447aB9F8592e0bcE7397"}')[e];if(!t)return console.error("Address for network ".concat(e," is not set!")),void a({});a({multiRegister:t})}}),[e]),c}},59:function(e,t,f){"use strict";f.d(t,"b",(function(){return m})),f.d(t,"c",(function(){return v})),f.d(t,"a",(function(){return x}));var n,c=f(11),r=f(3),a=f.n(r),i=f(85),s=f(5),b=f(27),o=f(57),u=f(86),d=f.n(u),l=f(42),j=f(25),O=new d.a({cacheProvider:!0}),m={connected:!1,provided:!1,providerName:"not connected"},h=function(){var e=Object(i.a)(a.a.mark((function e(t){var f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="31337",!e.t0){e.next=7;break}return e.next=4,t.getNetwork();case 4:e.t1=e.sent.chainId,e.t2=parseInt("31337",10),e.t0=e.t1===e.t2;case 7:if(!e.t0){e.next=12;break}e.t3="localhost",e.next=15;break;case 12:return e.next=14,t.getNetwork();case 14:e.t3=e.sent.name;case 15:return e.t4=e.t3,e.next=18,t.getSigner().getAddress();case 18:return e.t5=e.sent,e.next=21,t.getNetwork();case 21:return e.t6=e.sent.chainId,e.t7=t,e.t8=t.getSigner(),f={connected:!0,provided:!0,providerName:"injected provider",networkName:e.t4,account:e.t5,chainId:e.t6,provider:e.t7,signerOrProvider:e.t8},n=t.provider,e.abrupt("return",f);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return new Promise((function(t,f){e.connect().then((function(e){return h(new b.a.providers.Web3Provider(e))})).then(t).catch(f)}))},v=function(){var e=Object(s.useState)(m),t=Object(c.a)(e,2),f=t[0],r=t[1],a=function(e,t){var f=Object(s.useState)(null),n=Object(c.a)(f,2),r=n[0],a=n[1];return Object(s.useEffect)((function(){return t.on("connect",(function(e){if(Object(l.a)().includes(parseInt(e.chainId))){var f=new b.a.providers.Web3Provider(e);a(f),Object(j.b)("Connected",{toastId:"connected"})}else Object(j.b)("Switch to a supported network: ".concat(Object(l.a)().join(", ")),{toastId:"switchNetwork"}),t.clearCachedProvider(),a(null)})),function(){t.off("connect")}}),[t]),Object(s.useEffect)((function(){if(e)return e.on("chainChanged",(function(f){if(Object(l.a)().includes(parseInt(f))){Object(j.b)("Network changed",{toastId:"switchNetwork"});var n=new b.a.providers.Web3Provider(e);a(n)}else Object(j.b)("Switch to a supported network: ".concat(Object(l.a)().join(", ")),{toastId:"switchNetwork"}),t.clearCachedProvider(),a(null)})),e.on("accountsChanged",(function(e){0===e.length?(Object(j.b)("Account disconnected",{toastId:"disconnected"}),t.clearCachedProvider(),a(null)):(Object(j.b)("Account changed",{toastId:"connected"}),t.connect())})),e.on("disconnect",(function(){Object(j.b)("Account disconnected",{toastId:"disconnected"}),t.clearCachedProvider(),a(null)})),function(){e.removeAllListeners()}}),[e,t]),r}(n,O);return Object(s.useEffect)((function(){a?h(a).then(r).catch(console.error):r(m)}),[a]),Object(s.useEffect)((function(){f.connected||(!O.cachedProvider||f.provider?(f.provider&&f.provider.getNetwork().then((function(e){Object(l.a)().includes(e.chainId)&&p(O).then(r).catch(console.error)})).catch(console.error),r(function(){var e=b.a.providers.getNetwork(parseInt("5",10)),t=Object(o.getDefaultProvider)(e,{});return{connected:!0,provided:!1,providerName:"fallback provider",networkName:t.network.name,account:"",chainId:t.network.chainId,provider:t,signerOrProvider:t}}())):p(O).then(r).catch(console.error))}),[f.connected,f.provider]),f},x=function(){O.connect().catch(console.error)}},66:function(e,t,f){"use strict";f.d(t,"a",(function(){return a}));var n=f(11),c=f(5),r=f(25),a=function(){var e=Object(c.useState)(!1),t=Object(n.a)(e,2),f=t[0],a=t[1];return{contractCall:Object(c.useCallback)((function(e,t,f,c,i,s,b){var o;a(!0),o=Object(r.b)(t,{autoClose:!1,closeOnClick:!1,draggable:!1,closeButton:!1}),e().then((function(e){return Promise.all([new Promise((function(e){return setTimeout((function(){return e(null)}),0)})).then((function(){return e.wait()})),o])})).then((function(e){var t=Object(n.a)(e,2),o=t[0],u=t[1];a(!1),r.b.dismiss(u),0===o.status?(r.b.error(f),i&&i()):1===o.status?(Object(r.b)(c),s&&s()):(r.b.error("Not sure what happened with that transaction"),i&&i()),b&&b()})).catch((function(e){console.error(e),a(!1),r.b.dismiss(o),4001!==e.code&&r.b.error("There was an error! Check your browser's console logs for more details."),i&&i()}))}),[]),pending:f}}},93:function(e,t,f){"use strict";(function(e){var n=f(11),c=f(5),r=f(27),a=f(41),i=f(30),s=f(66),b=f(37),o=f(9);t.a=function(t){var f=t.committed,u=t.setCommitted,d=t.setWaited,l=t.names,j=t.setSecrets,O=t.reset,m=Object(a.b)().contracts.multiRegister,h=Object(i.b)().account,p=Object(s.a)(),v=p.contractCall,x=p.pending,g=Object(c.useState)([]),y=Object(n.a)(g,2),k=y[0],w=y[1],N=Object(c.useState)(!0),C=Object(n.a)(N,2),S=C[0],E=C[1],T=Object(c.useState)(70),I=Object(n.a)(T,1)[0],P=Object(c.useState)(I),R=Object(n.a)(P,2),M=R[0],A=R[1];return Object(c.useEffect)((function(){E(x||f)}),[x,f]),Object(c.useEffect)((function(){if(!h)return j([]),void w([]);var t=l.map((function(t){return r.a.utils.keccak256(e.from(t))})),f=l.map((function(e){return r.a.utils.randomBytes(32)}));j(f);var n=l.map((function(e,n){return r.a.utils.solidityKeccak256(["bytes32","address","bytes32"],[t[n],h,f[n]])}));w(n)}),[h,l,j]),Object(c.useEffect)((function(){O&&(j([]),u(!1))}),[O,u,j]),Object(c.useEffect)((function(){if(f)var e=setInterval((function(){A((function(t){var f=t-1;return 0===f&&clearInterval(e),f}))}),1e3)}),[f]),Object(c.useEffect)((function(){0===M&&d(!0)}),[M,d]),Object(o.jsx)("div",{className:"mb-4",children:k.length===l.length&&Object(o.jsxs)("div",{children:[Object(o.jsx)(b.a,{disabled:S,onClick:function(){m&&v((function(){return m.multiCommit(k)}),"Committing to names","Committing to names failed","Committing to names succeeded",void 0,(function(){return u(!0)}))},children:"Commit to names"}),f&&Object(o.jsxs)("div",{className:"mt-4",children:[Object(o.jsx)("div",{className:"italic text-3xl mb-2",children:"Don't refresh or nagivate anywhere bozo"}),Object(o.jsxs)("div",{children:["Wait ",Object(o.jsx)("span",{className:"font-mono",children:M})," seconds"]})]})]})})}}).call(this,f(84).Buffer)}},[[123,1,2]]]);
//# sourceMappingURL=main.d36d1175.chunk.js.map